\documentclass[a4paper,12pt]{book}
\usepackage{amsmath,  amsthm,enumerate}
\usepackage{csquotes}
\usepackage[provide=*,french]{babel}
\usepackage[dvipsnames]{xcolor}
\usepackage{quiver, tikz}

%symbole caligraphique
\usepackage{mathrsfs}

%hyperliens
\usepackage{hyperref}

%pseudo-code
\usepackage{algorithm}
\usepackage{algpseudocode}

\usepackage{fancyhdr}

\pagestyle{fancy}
\addtolength{\headwidth}{\marginparsep}
\addtolength{\headwidth}{\marginparwidth}
\renewcommand{\chaptermark}[1]{\markboth{#1}{}}
\renewcommand{\sectionmark}[1]{\markright{\thesection\ #1}}
\fancyhf{}
\fancyfoot[C]{\thepage}
\fancyhead[LO]{\textit \leftmark}
\fancyhead[RE]{\textit \rightmark}
\renewcommand{\headrulewidth}{0pt} % and the line
\fancypagestyle{plain}{%
    \fancyhead{} % get rid of headers
}

%bibliographie
\usepackage[
backend=biber,
style=alphabetic,
sorting=ynt
]{biblatex}

\addbibresource{bib.bib}

\usepackage{appendix}
\renewcommand{\appendixpagename}{Annexe}

\definecolor{wgrey}{RGB}{148, 38, 55}

\setlength\parindent{24pt}

\newcommand{\Z}{\mathbb{Z}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\rel}{\omathcal{R}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\C}{\mathbb{C}}
\newcommand{\Cat}{\mathcal{C}}
\newcommand{\Dat}{\mathcal{D}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\K}{\mathbb{K}}
\newcommand{\A}{\mathbb{A}}
\newcommand{\B}{\mathcal{B}}
\newcommand{\Or}{\mathcal{O}}
\newcommand{\F}{\mathscr F}
\newcommand{\Hom}{\textrm{Hom}}
\newcommand{\disc}{\textrm{disc}}
\newcommand{\Pic}{\textrm{Pic}}
\newcommand{\End}{\textrm{End}}
\newcommand{\Spec}{\textrm{Spec}}
\newcommand{\Supp}{\textrm{Supp}}
\renewcommand{\Im}{\textrm{Im}}


\newcommand{\cL}{\mathscr{L}}
\newcommand{\G}{\mathscr{G}}
\newcommand{\D}{\mathscr{D}}
\newcommand{\E}{\mathscr{E}}
\renewcommand{\P}{\mathscr{P}}
\renewcommand{\H}{\mathscr{H}}

\makeatletter
\newcommand{\colim@}[2]{%
  \vtop{\m@th\ialign{##\cr
    \hfil$#1\operator@font colim$\hfil\cr
    \noalign{\nointerlineskip\kern1.5\ex@}#2\cr
    \noalign{\nointerlineskip\kern-\ex@}\cr}}%
}
\newcommand{\colim}{%
  \mathop{\mathpalette\colim@{\rightarrowfill@\scriptscriptstyle}}\nmlimits@
}
\renewcommand{\varprojlim}{%
  \mathop{\mathpalette\varlim@{\leftarrowfill@\scriptscriptstyle}}\nmlimits@
}
\renewcommand{\varinjlim}{%
  \mathop{\mathpalette\varlim@{\rightarrowfill@\scriptscriptstyle}}\nmlimits@
}
\makeatother

\theoremstyle{plain}
\newtheorem{thm}[subsection]{Théoreme}
\newtheorem{lem}[subsection]{Lemme}
\newtheorem{prop}[subsection]{Proposition}
\newtheorem{cor}[subsection]{Corollaire}
\newtheorem{heur}{Heuristique}
\newtheorem{rem}{Remarque}
\newtheorem{note}{Note}

\theoremstyle{definition}
\newtheorem{conj}{Conjecture}
\newtheorem{prob}{Problème}
\newtheorem{quest}{Question}
\newtheorem{prot}{Protocole}
\newtheorem{algo}{Algorithme}
\newtheorem{defn}[subsection]{Définition}
\newtheorem{exmp}[subsection]{Exemples}
\newtheorem{exo}[subsection]{Exercices}
\newtheorem{ex}[subsection]{Exemple}
\newtheorem{exs}[subsection]{Exemples}
\newtheorem{slog}{Slogan}

\theoremstyle{remark}

\definecolor{wgrey}{RGB}{148, 38, 55}
\definecolor{wgreen}{RGB}{100, 200,0} 
\hypersetup{
    colorlinks=true,
    linkcolor=wgreen,
    urlcolor=wgrey,
    filecolor=wgrey
}

\title{(co)-Homologie (des faisceaux)}
\date{2023-2024}

\begin{document}
\maketitle
\tableofcontents
\chapter*{Introduction}
Le but ca va être la cohomologie des faisceaux et les théorèmes de 
changement de base propres (pas comme dans \cite{vamumford}).
\chapter{Faisceaux}
\section{Définitions}
On parle d'espaces topologiques. Soit $X$ un e.t.
\begin{defn}[Préfaisceau abélien]
    Pour l'instant c'est un faisceau en groupe abélien. 
\end{defn}
\begin{rem}
    Soit $\P$ un faisceau en groupes abéliens. Soit $U=\bigcup_i U_i$
    un recouvrement ouvert on peut définir la séquence
    \[0\to\P(U)\to\prod_i \P(U_i)\to\prod_{(i,j)}\P(U_i\cap U_j)\]
    où la premier flèche est la restriction et la deuxième la
    différence $(s_i)_i\mapsto (s_i|_{U_i\cap U_j}-s_j|_{U_i\cap U_j})_{i,j}$. C'est une suite exacte parce que si on appelle $d_0$ et 
    $d_1$ les deux flèches :
    \[(s|_{U_i}|_{U_i\cap U_j}-s|_{U_j}|_{U_i\cap U_j})\]
    Ca mesure si une section est globale! En particulier ca axiomatise
    les faisceaux :
    \begin{itemize}
        \item La condition $\ker(d^1)=\Im(d^0)$ équivaut au gluing
            de sections locales.
        \item La condition $\ker(d^0)=0$ équivaut à l'unicité des
            sections.
    \end{itemize}
    On appelle $C(\bigcup_i U_i, \P)$ la suite exacte du dessus.
\end{rem}
\begin{defn}
    On définit la fibre (stalk) en $x\in X$ pour un préfaisceau 
    $\P$ par \[\P_x=\varinjlim_{x\in U} \P(U)\]
    et on a \[\P_x=\sqcup_{x\in U} \P(U)/\sim\]
    où la relation c'est la relation de coincider sur une restriction.
    On a les germes de sections comme d'habitude qu'on note par $s_x$.
\end{defn}

\begin{thm}
    Une flèche de faisceaux $\F\to\G$ est un isomorphisme ssi
    la flèche induite sur les fibres sont des isomorphismes.
\end{thm}
\begin{proof}[Preuve]
    \textbf{À faire!}
\end{proof}
\begin{defn}[Support d'une section d'un faisceau]
    Soit $\F$ un faisceau sur $X$. On définit $\Supp_U(s):=\{s\in U| s_x\ne 0\}$
\end{defn}
\begin{exo}
    Soit $\F$ un faisceau abélien, montrer que le support d'une section
    $s$ est fermé. Faut juste montrer que $s_x$ vaut zéro même en 
    élargissant à un petit ouvert autour de $x$, c'est évident en fait.
\end{exo}
\begin{rem}
    Le foncteur d'oubli $Sh(X)\to PreSh(X)$ est pleinement fidèle. 
    Au sens où les morphismes sont les mêmes par définition.
\end{rem}

\section{Faisceautisation}
Il a l'air de l'avoir fait avec l'espace étalé. Bon je peux garder
ma déf habituelle. 
\begin{defn}[Faisceautisé]
    Pour un préfaisceau $\F$ sur $X$ on définit
    $\F^+(U):=\{f_{P}\in \prod_{P\in \F(U)} \F_{P}| \forall P \exists V_P,~t\in \F(V_p)~t_P=f_P\forall Q\in V_P~t_Q=f_Q\}$
\end{defn}
\begin{rem}
    En ajoutant les restrictions induites le préfaisceau $\F^+$ est un 
    faisceau.
\end{rem}
\begin{rem}
    Il faut utiliser des sections non locales de $\F$ simplement parce 
    que avoir les mêmes fibres à isomorphisme de permet pas 
    nécessairement de relever de manière cohérente.
\end{rem}
On définit $\F\to \F^+$ par la diagonale.
\begin{thm}[Propriété universelle]
    Soit $\F\to \G$ un morphisme de préfaisceaux où $\G$ est un 
    faisceau. Alors le morphisme se factorise en
    % https://q.uiver.app/#q=WzAsMyxbMCwwLCJcXG1hdGhzY3IgRiJdLFsxLDAsIlxcbWF0aHNjciBGXisiXSxbMSwxLCJcXG1hdGhzY3IgRyJdLFswLDFdLFswLDJdLFsxLDIsIiIsMCx7InN0eWxlIjp7ImJvZHkiOnsibmFtZSI6ImRhc2hlZCJ9fX1dXQ==
\[\begin{tikzcd}[ampersand replacement=\&,cramped]
	{\mathscr F} \& {\mathscr F^+} \\
	\& {\mathscr G}
	\arrow[from=1-1, to=1-2]
	\arrow[from=1-1, to=2-2]
	\arrow[dashed, from=1-2, to=2-2]
\end{tikzcd}\]
 et la flèche $\F^+\to \G$ est unique.
\end{thm}
\begin{proof}
    L'idée c'est qu'on $\G\simeq \G^+$ et on a tjr une flèche 
    $\F^+\to\G^+$.
\end{proof}
\begin{rem}
    Le foncteur de faisceautisation est exact.
\end{rem}

\begin{rem}
    Ce serait bien de refaire les preuves rien qu'une fois\textbf{1}.
\end{rem}
\begin{rem}[Traduction en terme d'espace étalé]
    En gros l'espace étalé c'est les fonctions de $U$ dans $\bigsqcup_P
    \F_P$.
    Autrement dit $\prod_{P\in U} \F_P$. Et on demande de la continuité.
    En gros y'a une fonction continue force des conditions de 
    recollement.
\end{rem}
\section{Faisceau localement constant}
Soit $X$ un espace topologique et $A$ un \textit{"objet abélien"}. On
définit le préfaisceau constant par 
\[A_X^{pre}(U)=A\]
pour tout ouvert $U\subset X$. On définit ensuite le faisceau localement
constant associé à $A$ par $A_X$.
\begin{rem}
    \textbf{(1)} L'exemple canonique du fait que $A_X^{pre}$ c'est pas
    un faisceau c'est $A_X(\emptyset)=A$.\\
    \textbf{(2)} On peut prendre $U_1\sqcup U_2$ et regarder la section
    $(0, p_2)$. Elle lift pas vu que les restrictions sont par déf
    l'identité.
\end{rem}

\begin{prop}
    On a $A_X(U)=A^{\pi_0(U)}$! Où $\pi_0(U)$ compte les composantes
    connexes. (Attention faut quand même qu'elles soient ouvertes?!)
\end{prop}
\begin{proof}
    Soit $\P = A_X^{pre}$. On a 
    $\P_P=\varinjlim_{P\in U} P(U)=\varinjlim_{P\in U} A= A$. 
    Ensuite faut écrire $X=\bigsqcup X_i$. Puis montrer que 
    $\P^+(X_i)=A$. Ensuite clairement par propriété universelle du 
    produit on a fini.
\end{proof}

\section{Suites exactes de faisceaux}
On considère $\alpha\colon \F\to \G$ un morphisme de faisceaux abéliens.
\begin{prop}[Faisceau noyau]
    Le préfaisceau donné par 
    $\ker(\alpha)(U)=\ker(\alpha\colon \F U\to \G U)$
    est un faisceau.
\end{prop}
\begin{defn}[Faisceau image]
    On définit le préfaisceau image par 
    $U\mapsto \Im^{pre}(\alpha\colon\F U\to \G U)$.
\end{defn}
\begin{rem}
    En général c'est pas un faisceau donc on déf $\Im(\alpha)$ le 
    faisceau associé.
\end{rem}
\begin{rem}
    \textbf{À faire!} Injection canonique des faisceaux Im et ker.
\end{rem}
\begin{defn}[Faisceau quotient]
    À nouveau on faisceautise le préfaisceau quotient.
\end{defn}
\begin{rem}
    La faisceautisation commute avec les fibres. De sorte que le 
    quotient des fibres est la fibre des quotients.
\end{rem}

\begin{defn}[Suite exacte de faisceaux abéliens]
    Une suite 
% https://q.uiver.app/#q=WzAsNSxbMCwwLCIwIl0sWzEsMCwiXFxtYXRoc2NyIEYnIl0sWzIsMCwiXFxtYXRoc2NyIEYiXSxbMywwLCJcXG1hdGhzY3IgRicnIl0sWzQsMCwiMCJdLFswLDFdLFsxLDIsIlxcYWxwaGEiXSxbMiwzLCJcXHJobyJdLFszLDRdXQ==
\[\begin{tikzcd}[ampersand replacement=\&,cramped]
	0 \& {\mathscr F'} \& {\mathscr F} \& {\mathscr F''} \& 0
	\arrow[from=1-1, to=1-2]
	\arrow["\alpha", from=1-2, to=1-3]
	\arrow["\rho", from=1-3, to=1-4]
	\arrow[from=1-4, to=1-5]
\end{tikzcd}\]
    est exacte si on a les conditions habituelles \textbf{d'égalités}
    en tant que faisceaux.
\end{defn}
\begin{prop}
    Suffit d'avoir des suites exactes sur les fibres avec les flèches
    induites.
\end{prop}

Maintenant on arrive au croustillant. Si on a une suite exacte de 
faisceaux
% https://q.uiver.app/#q=WzAsNSxbMCwwLCIwIl0sWzEsMCwiXFxtYXRoc2NyIEYnIl0sWzIsMCwiXFxtYXRoc2NyIEYiXSxbMywwLCJcXG1hdGhzY3IgRicnIl0sWzQsMCwiMCJdLFswLDFdLFsxLDIsIlxcYWxwaGEiXSxbMiwzLCJcXHJobyJdLFszLDRdXQ==
\[\begin{tikzcd}[ampersand replacement=\&,cramped]
	0 \& {\mathscr F'} \& {\mathscr F} \& {\mathscr F''} \& 0
	\arrow[from=1-1, to=1-2]
	\arrow["\alpha", from=1-2, to=1-3]
	\arrow["\rho", from=1-3, to=1-4]
	\arrow[from=1-4, to=1-5]
\end{tikzcd}\]
on peut montrer que $0\to \F'(X)\to\F(X)\to \F''(X)$ est exacte. Mais 
la dernière flèche est pas nécessairement surjective.
\begin{ex}
    Soit $X=\C^{\times}$ et $\Or_X$ le faisceau des fonctions 
    holomorphes. Alors on a une suite exacte 
% https://q.uiver.app/#q=WzAsNSxbMCwwLCIwIl0sWzEsMCwiKDJpXFxwaVxcWilfWCJdLFsyLDAsIlxcbWF0aGNhbCBPX1giXSxbMywwLCJcXG1hdGhjYWwgT19YXntcXHRpbWVzfSJdLFs0LDAsIjAiXSxbMSwyXSxbMCwxXSxbMiwzLCJleHAiXSxbMyw0XV0=
\[\begin{tikzcd}[ampersand replacement=\&,cramped]
	0 \& {(2i\pi\Z)_X} \& {\mathcal O_X} \& {\mathcal O_X^{\times}} \& 0
	\arrow[from=1-1, to=1-2]
	\arrow[from=1-2, to=1-3]
	\arrow["exp", from=1-3, to=1-4]
	\arrow[from=1-4, to=1-5]
\end{tikzcd}\]
    où la première flèche est celle donnant les fonctions constantes.
    La deuxième est la post-composition avec l'exponentielle.
\end{ex}

\begin{rem}
    Dans la suite exacte de faisceaux on a pas besoin de la surjectivité
    de la dernière flèche.
\end{rem}

\section{Images directes et inverses de faisceaux}
Soit $f\colon X\to Y$ une application continue. On a
% https://q.uiver.app/#q=WzAsNixbMCwxLCJmXFxjb2xvbiBYIl0sWzIsMSwiWSJdLFswLDAsIlxcbWF0aHNjciBGIl0sWzIsMCwiXFxtYXRoc2NyIEciXSxbMCwyLCJmXipcXG1hdGhzY3IgRyJdLFsyLDIsImZfKlxcbWF0aHNjciBGIl0sWzAsMV0sWzQsMiwiIiwyLHsiY3VydmUiOi01fV0sWzMsNSwiIiwyLHsiY3VydmUiOi01fV1d
\[\begin{tikzcd}[ampersand replacement=\&,cramped]
	{\mathscr F} \&\& {\mathscr G} \\
	{f\colon X} \&\& Y \\
	{f^*\mathscr G} \&\& {f_*\mathscr F}
	\arrow[curve={height=-30pt}, from=1-3, to=3-3]
	\arrow[from=2-1, to=2-3]
	\arrow[curve={height=-30pt}, from=3-1, to=1-1]
\end{tikzcd}\]
\begin{defn}[Image directe]
    \[f_*\F\colon Ouv(Y)^{op}\to Ab\] t.q $f_*\F(V)=\F(f^{-1}V)$.
\end{defn}
\begin{rem}
    C'est un faisceau si $\F$ est un faisceau, suffit de voir que 
    $f^{-1}V=\cup f^{-1}V_i$ si $V=\cup V_i$.
\end{rem}
\begin{defn}[Image inverse]
    \[f^p\F\colon Ouv(X)^{op}\to Ab\] t.q 
    $f^p\G(U)=\varinjlim_{f(U)\subset V} \G(V)$. On déf ensuite 
    $f^*=(f^p)^+$ le faisceau associé.
\end{defn}

\begin{ex}[Contre exemple pour $f^P$ est un faisceau]
    Si on pullback un faisceau constant sur le singleton $\{*\}$
    on obtient un préfaisceau constant!
\end{ex}
\begin{exo}
    Revoir l'adjonction entre $(\_)^*$ et $(\_)_*$ et revoir le fait
    que c'est des foncteurs.
\end{exo}
\begin{note}
    Revoir comment obtenir les flèches de stalks.
\end{note}
\begin{prop}
    Pour tout $x\in X$, 
    \[(f^*\G)_x\simeq \G_{f(x)}\]
\end{prop}
\begin{proof}
    Soit $x\in X$,
    \begin{align*}
	(f^*\G)_x&\simeq (f^P\G)_x\\
		 &\simeq \varinjlim_{x\in U\subset X} (f^P\G)(U)\\
		 &\simeq \varinjlim_{x\in U\subset X}\varinjlim_{f(U)\subset V\subset Y}\G(V)\\
		 &\simeq \varinjlim_{f(x)\in V\subset Y} \G(V)\\
		 &\simeq \G_{f(x)}
    \end{align*}
\end{proof}
\begin{rem}
    \textbf{Rappel :} On peut regarder explicitement les limites et 
    colimites on est dans $Ab$. Via des quotients!
\end{rem}
\begin{rem}
    On peut voir un faisceau $f^*\G$ sur $X$ comme un espace étalé sur 
    $X$.
    On considère $\tilde \G$ l'espace étalé 
    \[\tilde \G\to Y\]
    on peut regarder le produit fibré 
% https://q.uiver.app/#q=WzAsNCxbMCwwLCJYXFx0aW1lc19ZXFx0aWxkZXtcXG1hdGhzY3IgIEd9Il0sWzIsMCwiXFx0aWxkZXtcXG1hdGhzY3IgR30iXSxbMCwyLCJYIl0sWzIsMiwiWSJdLFsyLDMsImYiLDJdLFsxLDMsIlxcdGV4dHJte0hvbcOpbyBsb2NhbH0iXSxbMCwyLCJcXHRleHRybXtIb23DqW8gbG9jYWx9IiwyXSxbMCwxXV0=
\[\begin{tikzcd}[ampersand replacement=\&,cramped]
	{X\times_Y\tilde{\mathscr  G}} \&\& {\tilde{\mathscr G}} \\
	\\
	X \&\& Y
	\arrow[from=1-1, to=1-3]
	\arrow["{\textrm{Homéo local}}"', from=1-1, to=3-1]
	\arrow["{\textrm{Homéo local}}", from=1-3, to=3-3]
	\arrow["f"', from=3-1, to=3-3]
\end{tikzcd}\]
    Alors $\tilde{f^*\G}\simeq X\times_Y\tilde{\G}$ au dessus de X.
\end{rem}
\begin{cor}
    $f^*\colon Sh_{Ab}(Y)\to Sh_{Ab}(X)$ est exact.
\end{cor}
\begin{proof}
    Étant donné $0\to \F'\to\F\to \F''\to 0$ une suite exacte. On peut
    regarder directement sur les stalks et c'est clair.
\end{proof}
\begin{rem}
    Étant donné $X=\{*\}$, un faisceau $\F$ sur $X$ est de la forme
    $A_X$ un faisceau constant. On a alors une équivalence de catégorie
    \[Sh_{Ab}(X)\simeq Ab\]
    et même un isomorphisme. On a un pont pour envoyer des objets 
    abéliens dans des faisceaux.
\end{rem}
\begin{cor}
    Soit $X$ un e.t, $x\in X$ et $\F$ un faisceau abélien sur $X$.
    On note $\iota_x\colon\{x\}\to X$, alors 
    $\iota_x^*\F$ est le faisceau constant associé à $\F_x$ sur $\{x\}$.
\end{cor}
\begin{exo}[Faisceau gratte-ciel]
    Sur un e.t $X$ et $x\in X$, $A\in Ab$. On définit
    \[A_{\bar x}(U)=\begin{cases}A\textrm{ si }x\in U\\ 0\textrm{ sinon}
    \end{cases}\]
    Montrer que c'est un faisceau avec les restrictions évidentes. \\
    Montrer que \[(A_{\bar x})_y=\begin{cases}A\textrm{ si } y\in\bar{\{x\}}\\ 0\textrm{ sinon}\end{cases}\]
    Soit $A_{\bar{\{x\}}}$ le faisceau constant sur $\bar{\{x\}}$. 
    Montrer que $\iota_* A_{\bar{\{x\}}}\simeq A_{\bar x}$. \\
    D'après Fabrice le faisceau gratte ciel est une co-unité.
\end{exo}
\begin{defn}
    On regarde $f_P\colon PSh_{Ab}(X)\to PSh_{Ab}(Y)$ qui à $\F$ associe
    $(V\mapsto \F f^{-1}V)$.
\end{defn}
\begin{rem}
    On a un carré commutatif de catégories (foncteurs diagonaux 
    isomorphes)
% https://q.uiver.app/#q=WzAsNCxbMCwwLCJTaF97QWJ9KFgpIl0sWzIsMCwiUFNoX3tBYn0oWCkiXSxbMiwyLCJQU2hfe0FifShZKSJdLFswLDIsIlNoX3tBYn0oWSkiXSxbMCwzLCJmXyoiLDJdLFswLDEsIlxcaW90YV9YIl0sWzEsMiwiZl9QIl0sWzMsMiwiXFxpb3RhX1kiLDJdXQ==
\[\begin{tikzcd}[ampersand replacement=\&,cramped]
	{Sh_{Ab}(X)} \&\& {PSh_{Ab}(X)} \\
	\\
	{Sh_{Ab}(Y)} \&\& {PSh_{Ab}(Y)}
	\arrow["{\iota_X}", from=1-1, to=1-3]
	\arrow["{f_*}"', from=1-1, to=3-1]
	\arrow["{f_P}", from=1-3, to=3-3]
	\arrow["{\iota_Y}"', from=3-1, to=3-3]
\end{tikzcd}\]
\end{rem}
\begin{prop}
    On a une adjonction 
    $f^P\colon PSh(Y)\leftrightarrow PSh(X)\colon f_P$.
\end{prop}
\begin{proof}
    On doit donner un isomorphisme (d'ensembles) 
    \[\Hom_{PSh(X)}(f^P\G;\F)\simeq \Hom_{PSh(Y)}(\G;f_P\F)\]
    fonctoriel en $\F\in PSh(X)$ et $\G\in PSh(Y)$ (l'adjoint à gauche
    est à gauche). Étant donné $\alpha\colon \G\to f_P\F$, on a pour tout
    $V$ \[\alpha(V)\colon \G(V)\to \F f^{-1}V\] 
    et pour tout $U$ tel que $f(U)\subset V$ on a une flèche
    \[\G(V)\to \F(f^{-1}V)\to \F(U)\]
    et on cherche $f^P\G U\to \F U$. Suffit de prendre la limite du
    diagramme du haut pour l'obtenir, on peut car $U\subset f^{-1}V$.

    À l'inverse si on a $\beta\colon f^P\G\to \F$ et qu'on veut
    des $\G V\to \F f^{-1} V$, on pose $U=f^{-1}V$, on a
    \[\varinjlim_{f(f^{-1}V)\subset W}\G W\to\F f^{-1}V\]
    puis comme $f(f^{-1}V)\subset V$ on a 
    \[\G V\to \varinjlim_{f(f^{-1}V)\subset W}\G W\]
    d'où $\G V\to \F^{-1}V$.
\end{proof}
Par la remarque plus haut et celle juste en dessou on obtient la même
adjonction sur les faisceaux.
\begin{rem}
    La faisceautisation est adjointe à l'inclusion! (c'est la propriété
    universelle directement)
\end{rem}
\begin{prop}
    On a une adjonction 
    $f^*\colon Sh(Y)\leftrightarrow Sh(X)\colon f_*$.
\end{prop}
\begin{proof}
    \begin{align*}
	\Hom_{Sh(X)}(f^*\G,\F)&=\Hom_{Sh(X)}((f^p\G)^+,\F)\\
			      &=\Hom_{PSh(X)}(f^p\G, \iota_X \F(=\F))\\
			      &=\Hom_{PSh(Y)}(\G,f_P\F)\\
			      &=\Hom_{Sh(Y)}(\G,f_*\F)
    \end{align*}
\end{proof}

\begin{prop}
    Soit $f\colon X\to Y$ et $g\colon Y\to Z$. Alors on a des
    isomorphismes canoniques $(g\circ f)_*\simeq g_*\circ f_*$ et 
    $(g\circ f)^*\simeq f^*\circ g^*$. % https://q.uiver.app/#q=WzAsMyxbMCwwLCJTaF97QWJ9KFgpIl0sWzIsMCwiU2hfe0FifShZKSJdLFsyLDIsIlNoX3tBYn0oWikiXSxbMCwxLCJmXyoiLDIseyJjdXJ2ZSI6Mn1dLFsxLDIsImdfKiIsMix7ImN1cnZlIjoyfV0sWzEsMiwiZ14qIiwwLHsiY3VydmUiOi0yfV0sWzEsMCwiZl4qICIsMix7ImN1cnZlIjoyfV0sWzAsMiwiKGdcXGNpcmMgZilfKiIsMl0sWzIsMCwiKGdcXGNpcmMgZileKiIsMCx7ImN1cnZlIjotNX1dXQ==
\[\begin{tikzcd}[ampersand replacement=\&,cramped]
	{Sh_{Ab}(X)} \&\& {Sh_{Ab}(Y)} \\
	\\
	\&\& {Sh_{Ab}(Z)}
	\arrow["{f_*}"', curve={height=12pt}, from=1-1, to=1-3]
	\arrow["{(g\circ f)_*}"', from=1-1, to=3-3]
	\arrow["{f^* }"', curve={height=12pt}, from=1-3, to=1-1]
	\arrow["{g_*}"', curve={height=12pt}, from=1-3, to=3-3]
	\arrow["{g^*}", curve={height=-12pt}, from=1-3, to=3-3]
	\arrow["{(g\circ f)^*}", curve={height=-30pt}, from=3-3, to=1-1]
\end{tikzcd}\]
\end{prop}
\begin{proof}
    Pour $(\_)_*$ c'est clair via $(g\circ f)^{-1}=f^{-1}g^{-1}$. Ensuite
    on peut faire $(\_)^*$ via l'adjonction mdr. L'adjoint à gauche
    de $g_*\circ f_*$ est $f^*\circ g^*$ puis unicité.
\end{proof}

\chapter{Catégories abéliennes}
\begin{defn}[Catégorie préadditive]
    Une catégorie préadditive est une catégorie $\Cat$ telle que
    les $\Hom$ soient dans $Ab$ et
    \[\Hom_{\Cat}(A,B)\times\Hom_{\Cat}(B,C)\to \Hom_{\Cat}(A,C)\]
    est $\Z$-bilinéaire. 
\end{defn}
\begin{rem}
    La catégorie opposée est aussi une catégorie préadditive.
\end{rem}
\begin{defn}
    Un objet $T$ est terminal si y'a un unique morphisme de tout
    objet vers lui. (Oui ça marche)
\end{defn}

\begin{defn}[(co)-Produit]
    Le (co)-produit est la (co)-limite du diagramme % https://q.uiver.app/#q=WzAsMixbMCwwLCJBIl0sWzEsMCwiQiJdXQ==
\[\begin{tikzcd}
	A & B
\end{tikzcd}\]
\end{defn}

\begin{rem}
    Le produit vide est \textbf{terminal}! Parce que la propriété 
    universelle
    est vide, donc y'a tjr une flèche vers lui si il existe... À 
    l'inverse, le coproduit vide est \textbf{initial}...
    En plus l'idée que y'a vraiment que \textbf{le} singleton dans Set
    ca donne encore plus envie des faires des topos. Dans Set, les
    objets semblent vraiments canoniques en tant qu'ensemble..
\end{rem}

\begin{lem}
    Dans une catégorie préadditive, on a les coproduits finis ssi
    on a les produits finis, en fait ils sont isomorphes à unique
    isomorphisme (implique canoniquement égaux ?).
\end{lem}
\begin{proof}
    Il suffit de le montrer dans un sens, ensuite ce sera vrai dans la
    catégorie opposée! Suffit de construire les coproduits à deux objets
    étant donnés les produits. On a un objet terminal via le produit
    vide (c'est de la triche mdr). On a $\Hom_{\Cat}(T,A)\in Ab$. 
    On regarde $O_{T,A}\colon T\to A$ l'élément neutre, on remarque que
    si $f\colon T\to A$ est une flèche, alors 
    $f\circ Id_T=f\circ O_{T,T}=O_{T,A}$. De sorte que $T$ est initial
    aussi. On remarque que 
% https://q.uiver.app/#q=WzAsOCxbMSwwLCJBIl0sWzAsMSwiQSJdLFsxLDEsIkFcXHRpbWVzIEIiXSxbMiwxLCJCIl0sWzQsMCwiQiJdLFszLDEsIkEiXSxbNSwxLCJCIl0sWzQsMSwiQVxcdGltZXMgQiJdLFswLDEsIklkIiwxXSxbMCwyLCJpX0EiLDFdLFswLDMsIk9fe0EsQn0iLDFdLFsyLDFdLFsyLDNdLFs0LDUsIk9fe0IsQX0iLDFdLFs0LDYsIklkIiwxXSxbNCw3LCJpX0IiLDFdLFs3LDZdLFs3LDVdXQ==
\[\begin{tikzcd}
	& A &&& B \\
	A & {A\times B} & B & A & {A\times B} & B
	\arrow["Id"{description}, from=1-2, to=2-1]
	\arrow["{i_A}"{description}, from=1-2, to=2-2]
	\arrow["{O_{A,B}}"{description}, from=1-2, to=2-3]
	\arrow["{O_{B,A}}"{description}, from=1-5, to=2-4]
	\arrow["{i_B}"{description}, from=1-5, to=2-5]
	\arrow["Id"{description}, from=1-5, to=2-6]
	\arrow[from=2-2, to=2-1]
	\arrow[from=2-2, to=2-3]
	\arrow[from=2-5, to=2-4]
	\arrow[from=2-5, to=2-6]
\end{tikzcd}\]
    où $i_A=id\times O$ pareil pour $i_B$. Si on a % https://q.uiver.app/#q=WzAsMyxbMSwwLCJYIl0sWzAsMSwiQSJdLFsyLDEsIkIiXSxbMiwwLCJnIiwxXSxbMSwwLCJmIiwxXV0=
\[\begin{tikzcd}
	& X \\
	A && B
	\arrow["f"{description}, from=2-1, to=1-2]
	\arrow["g"{description}, from=2-3, to=1-2]
\end{tikzcd}\]
    on peut regarder $h:=(f\circ p_A)+(g\circ p_B)$ de $A\times B\to X$.
    Ensuite faut vérifier que % https://q.uiver.app/#q=WzAsNCxbMSwxLCJBXFx0aW1lcyBCIl0sWzAsMSwiQSJdLFsyLDEsIkIiXSxbMSwwLCJYIl0sWzEsMCwiaV9BIiwxXSxbMiwwLCJpX0IiLDFdLFswLDMsImgiLDFdLFsxLDMsImYiLDFdLFsyLDMsImciLDFdXQ==
\[\begin{tikzcd}
	& X \\
	A & {A\times B} & B
	\arrow["f"{description}, from=2-1, to=1-2]
	\arrow["{i_A}"{description}, from=2-1, to=2-2]
	\arrow["h"{description}, from=2-2, to=1-2]
	\arrow["g"{description}, from=2-3, to=1-2]
	\arrow["{i_B}"{description}, from=2-3, to=2-2]
\end{tikzcd}\]
commute, c'est clair. Pour l'unicité, on remarque que $id_{A\times B}
=i_A\circ p_A+i_B\circ p_B$. En particulier, les projecteurs permettent
de se ramener à l'égalité terme à terme. Si on a une autre flèche
$h'\colon A\times B\to X$, on peut remarquer que $h'\circ id= (h'\circ i_a)\circ p_A+ (h'\circ i_B)\circ p_B=f\circ p_A+ g\circ p_B$.
\end{proof}

\begin{rem}[Codiagonale]
    Dans une catégorie quelconque, on a des flèches 
    \[B\sqcup B\to B\]
    et \[B\to B\times B\]
    les diagonales et codiagonales. Dans une catégorie préadditive,
    les deux sont isomorphes, on obtient $\delta_B\colon B\times B\to B$
    la \textbf{codiagonale} via 
% https://q.uiver.app/#q=WzAsNSxbMSwxLCJCXFxzcWN1cCBCIl0sWzIsMSwiQiJdLFswLDEsIkJcXHRpbWVzIEIiXSxbMSwwLCJCIl0sWzEsMiwiQiJdLFswLDEsIlxcZGVsdGFfQiIsMl0sWzAsMiwiXFxzaW0iXSxbMywxLCJpZCJdLFs0LDEsImlkIiwyXSxbNCwwLCJpXzIiXSxbMywwLCJpXzEiXSxbMiwxLCJcXGRlbHRhX0IiLDAseyJsYWJlbF9wb3NpdGlvbiI6MjAsImN1cnZlIjotMX1dXQ==
\[\begin{tikzcd}
	& B \\
	{B\times B} & {B\sqcup B} & B \\
	& B
	\arrow["{i_1}", from=1-2, to=2-2]
	\arrow["id", from=1-2, to=2-3]
	\arrow["{\delta_B}"{pos=0.2}, curve={height=-6pt}, from=2-1, to=2-3]
	\arrow["\sim", from=2-2, to=2-1]
	\arrow["{\delta_B}"', from=2-2, to=2-3]
	\arrow["{i_2}", from=3-2, to=2-2]
	\arrow["id"', from=3-2, to=2-3]
\end{tikzcd}\]
\end{rem}
\section{Catégories additives}
\begin{defn}
    Une catégorie additive est une catégorie préadditive qui a tout les
    produits finis.
\end{defn}
\begin{lem}
    Dans une catégorie additive, soit
% https://q.uiver.app/#q=WzAsMixbMCwwLCJBIl0sWzEsMCwiQiJdLFswLDEsImYiLDAseyJvZmZzZXQiOi0xfV0sWzAsMSwiZyIsMix7Im9mZnNldCI6MX1dXQ==
\[\begin{tikzcd}
	A & B
	\arrow["f", shift left, from=1-1, to=1-2]
	\arrow["g"', shift right, from=1-1, to=1-2]
\end{tikzcd}\]
    alors $f+g=\delta_B\circ(f,g)$ où $(f,g)\colon A\to B\times B$.
\end{lem}
\begin{proof}
On considère
\[\begin{tikzcd}
	B\times B & B
	\arrow["p_1", shift left, from=1-1, to=1-2]
	\arrow["p_2"', shift right, from=1-1, to=1-2]
\end{tikzcd}\]
et 
% https://q.uiver.app/#q=WzAsNCxbMiwwLCJCXFx0aW1lcyBCIl0sWzMsMCwiQiJdLFsxLDAsIkJcXHNxY3VwIEIiXSxbMCwwLCJCIl0sWzAsMSwicF8xIiwwLHsib2Zmc2V0IjotMX1dLFswLDEsInBfMiIsMix7Im9mZnNldCI6MX1dLFsyLDAsIlxcc2ltIl0sWzMsMiwiaV8xIiwwLHsib2Zmc2V0IjotMn1dLFszLDIsImlfMiIsMix7Im9mZnNldCI6Mn1dXQ==
\[\begin{tikzcd}
	B & {B\sqcup B} & {B\times B} & B
	\arrow["{i_1}", shift left=2, from=1-1, to=1-2]
	\arrow["{i_2}"', shift right=2, from=1-1, to=1-2]
	\arrow["\sim", from=1-2, to=1-3]
	\arrow["{p_1}", shift left, from=1-3, to=1-4]
	\arrow["{p_2}"', shift right, from=1-3, to=1-4]
\end{tikzcd}\]
on peut se rappeler que $id_{B\times B}=i_1\circ p_1+i_2\circ p_2$.
Faut juste réécrire tout maintenant.
\end{proof}

\begin{rem}
    Une meilleure définition maintenant, $\Cat$ est additive si
    elle a un objet zéro $O_{\Cat}$(:=final et terminal), les produits et
    coproduits finis et tels que 
% https://q.uiver.app/#q=WzAsNCxbMCwxLCJBXFxzcWN1cCBCIl0sWzIsMSwiQVxcdGltZXMgQiJdLFswLDAsIkEiXSxbMCwyLCJCIl0sWzAsMSwiXFxleGlzdHMgISIsMl0sWzIsMF0sWzMsMF0sWzIsMSwiKE9fe0EsQn0saWRfQSkiXSxbMywxLCIoT197QixBfSxpZF9CKSIsMl1d
\[\begin{tikzcd}
	A \\
	{A\sqcup B} && {A\times B} \\
	B
	\arrow[from=1-1, to=2-1]
	\arrow["{(O_{A,B},id_A)}", from=1-1, to=2-3]
	\arrow["{\exists !}"', from=2-1, to=2-3]
	\arrow[from=3-1, to=2-1]
	\arrow["{(O_{B,A},id_B)}"', from=3-1, to=2-3]
\end{tikzcd}\]
    est un isomorphisme, où cette fois $O_{A,B}=A\to O_{\Cat}\to B$.
    Alors $\Hom_{\Cat}(A,B)$ est un monoide commutatif et l'addition
    est définie par $f+g:=\delta_B(f,g)$!
\end{rem}
\begin{defn}[Catégorie additive (bis)]
    Une catégorie additive est une catégorie $\Cat$ qui a 
    \begin{itemize}
	\item Un objet zéro $O_{\Cat}$.
	\item Produits et coproduits finis.
	\item $\alpha_{A,B}\colon A\sqcup B\simeq A\times B$.
	\item Le monoide commutatif $\Hom_{\Cat}(A,B)$ est
	    un groupe abélien.
    \end{itemize}
\end{defn}
\begin{rem}
    Il dit dans le premier cas que on fait comme si la catégorie
    avait de la structure en plus alors qu'en fait c'est plutôt 
    que la structure de groupe est déterminée par la catégorie.
\end{rem}

\section{Catégories abéliennes}
\begin{defn}[Égalisateur/Equalizer]
    C'est un monomorphisme qui est la limite de 
% https://q.uiver.app/#q=WzAsMyxbMSwwLCJBIl0sWzIsMCwiQiJdLFswLDAsIkUiXSxbMCwxLCJnIiwyLHsib2Zmc2V0IjoxfV0sWzAsMSwiZiIsMCx7Im9mZnNldCI6LTF9XSxbMiwwXV0=
\[\begin{tikzcd}
	E & A & B
	\arrow[from=1-1, to=1-2]
	\arrow["g"', shift right, from=1-2, to=1-3]
	\arrow["f", shift left, from=1-2, to=1-3]
\end{tikzcd}\]
\end{defn}
Dans le cas du noyau on peut écrire que pour tout $X$
% https://q.uiver.app/#q=WzAsNCxbMSwxLCJBIl0sWzIsMSwiQiJdLFswLDEsIkUiXSxbMCwwLCJYIl0sWzMsMSwiMCIsMCx7ImN1cnZlIjotMn1dLFswLDEsImYiXSxbMiwwXSxbMywyLCJcXGV4aXN0cyF+aiIsMix7InN0eWxlIjp7ImJvZHkiOnsibmFtZSI6ImRhc2hlZCJ9fX1dLFszLDAsImkiLDFdXQ==
\[\begin{tikzcd}
	X \\
	{\ker f} & A & B
	\arrow["{\exists!~j}"', dashed, from=1-1, to=2-1]
	\arrow["i"{description}, from=1-1, to=2-2]
	\arrow["0", curve={height=-12pt}, from=1-1, to=2-3]
	\arrow[from=2-1, to=2-2]
	\arrow["f", from=2-2, to=2-3]
\end{tikzcd}\]
il existe $j$ qui fait tout commuter. C'est la propriété universelle
du noyau. 
\begin{note}
    Le fait que $\ker f\to A$ soit un monomorphisme est une conséquence.
    C'est assez clair.
\end{note}
\begin{rem}
    On peut réecrire le noyau comme $A\times_B O_{\Cat}$ (pullback) et
    le conoyau $B\sqcup_A O_{\Cat}$ (pushout). Y s'agit just de dire
    que la limite de 
% https://q.uiver.app/#q=WzAsMixbMCwwLCJBIl0sWzEsMCwiQiJdLFswLDEsIjAiLDIseyJvZmZzZXQiOjF9XSxbMCwxLCJmIiwwLHsib2Zmc2V0IjotMX1dXQ==
\[\begin{tikzcd}
	A & B
	\arrow["0"', shift right, from=1-1, to=1-2]
	\arrow["f", shift left, from=1-1, to=1-2]
\end{tikzcd}\]
    C'est la limite de 
% https://q.uiver.app/#q=WzAsMyxbMCwxLCJBIl0sWzEsMSwiQiJdLFsxLDAsIk9fe1xcQ2F0fSJdLFswLDEsImYiLDIseyJvZmZzZXQiOjF9XSxbMiwxXV0=
\[\begin{tikzcd}
	& {O_{\Cat}} \\
	A & B.
	\arrow[from=1-2, to=2-2]
	\arrow["f"', shift right, from=2-1, to=2-2]
\end{tikzcd}\]
\end{rem}
\begin{defn}[(co)Image]
    On déf l'image de $f\colon A\to B$ comme $\ker(B\to Coker(f))$.
    La coimage par $Coim(f)=Coker(\ker(f)\to A)$.
\end{defn}
On a des flèches canoniques, $im(f)\to B$ et $A\to coim(f)$.

Ducoup il rappelle c'est quoi un mono/epi. Brièvement, ça dit que
si on a $f\colon X\to Y$ un monomorphisme, alors pour tout $Z$, 
\[\Hom(Z,X)\to \Hom(Z,Y)\]
est injective. Concrètement si on a $f\circ h=f\circ g$ alors $h=f$
dans
% https://q.uiver.app/#q=WzAsMyxbMCwwLCJaIl0sWzEsMCwiWCJdLFsyLDAsIlkiXSxbMCwxLCJnIiwwLHsib2Zmc2V0IjotMX1dLFswLDEsImgiLDIseyJvZmZzZXQiOjF9XSxbMSwyLCJmIl1d
\[\begin{tikzcd}
	Z & X & Y
	\arrow["g", shift left, from=1-1, to=1-2]
	\arrow["h"', shift right, from=1-1, to=1-2]
	\arrow["f", from=1-2, to=1-3]
\end{tikzcd}\]

À l'inverse dans le diagramme du dessous si $g\circ f=h\circ f$
alors $h=g$ ($f$ atteint toute l'image).
\[\begin{tikzcd}
	X & Y & Z
	\arrow["g", shift left, from=1-2, to=1-3]
	\arrow["h"', shift right, from=1-2, to=1-3]
	\arrow["f", from=1-1, to=1-2]
\end{tikzcd}\]
et ça se réecrit $\Hom(Y,Z)\to \Hom(X,Z)$ est surjective.

\begin{rem}
    Le (co)noyau est un (epi)monomorphisme. Pour le noyau, la flèche
    $X\to \ker(f)$ est unique, mais on en a deux via 
    $\iota\circ g=\iota\circ h$ pour $\iota\colon \ker(f)\to A$
    d'où $h=g$.
\end{rem}

\begin{rem}
    Dans $Ab$ on a $coim(f)=A/\ker(f)\simeq im(f)$ le théorème 
    d'isomorphisme!
\end{rem}
\begin{exo}
    Est-ce qu'on a un théorème d'isomorphisme dans une catégorie
    avec un objet zéro, les noyaux et conoyaux? 
    \begin{center} \textbf{(1)}    \end{center}	
    Prouver que y'a une flèche canonique 
    $\bar f\colon coim(f)\to im(f)$ tel que 
% https://q.uiver.app/#q=WzAsNixbMCwwLCJcXGtlcihmKSJdLFsxLDAsIkEiXSxbMiwwLCJCIl0sWzMsMCwiQ29rZXIoZikiXSxbMiwxLCJpbShmKSJdLFsxLDEsImNvaW0oZikiXSxbMCwxLCJpIiwwLHsic3R5bGUiOnsidGFpbCI6eyJuYW1lIjoiaG9vayIsInNpZGUiOiJ0b3AifX19XSxbMSwyLCJmIl0sWzIsMywicCIsMCx7InN0eWxlIjp7ImhlYWQiOnsibmFtZSI6ImVwaSJ9fX1dLFsxLDVdLFs1LDQsIlxcYmFyIGYiLDAseyJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XSxbNCwyXV0=
\[\begin{tikzcd}
	{\ker(f)} & A & B & {Coker(f)} \\
	& {coim(f)} & {im(f)}
	\arrow["i", hook, from=1-1, to=1-2]
	\arrow["f", from=1-2, to=1-3]
	\arrow[from=1-2, to=2-2]
	\arrow["p", two heads, from=1-3, to=1-4]
	\arrow["{\bar f}", dashed, from=2-2, to=2-3]
	\arrow[from=2-3, to=1-3]
\end{tikzcd}\]
    commute.
    \begin{center}\textbf{2)}\end{center}
    Montrer que $f=O$ est équivalent à ce que $i=id_A$ et $p=id_B$.
    \begin{center}\textbf{3)}\end{center}
    Si $g\in \Hom_{\Cat}(A,A)$ alors $g=Id_A$ implique que 
    $(\ker(g)\to A)=(O\to A)$ et $A\to Coker(g)=A\to 0$.
\end{exo}
\begin{lem}
    Soit $\Cat$ une catégorie avec un objet zéro, les noyaux et
    conoyaux. Alors pour tout $f\colon A\to B$, 
    $\ker(f)=(\ker(A\to coim(f))$ et $coker(f)=coker(im(f)\to B)$.
\end{lem}
\begin{proof}
    Par dualité entre $\Cat$ et $\Cat^{op}$ il suffit de prouver la 
    première assertion. On rappelle que $coim(f)=coker(\ker(f)\to A)$
    en particulier
    \[\ker(f)\to A\to coim(f)\]
    est la flèche nulle. On doit juste montrer que cette $\ker$ est
    universelle pour cette propriété. Soit 
    $(\alpha\colon X\to A)\to coim(f)$ qui vaut $0$. On utilise 
    maintenant $X\to A\to coim(f)\to im(f)\to B$ qui vaut $0$.
\end{proof}

\begin{defn}
    Une catégorie abélienne est une catégorie additive 
    \begin{itemize}
	\item qui a tout les noyaux et conoyaux. 
	\item telle que tout $f\colon A\to B$ vérifie 
	    \[\bar f\colon coim(f)\to im(f)\]
	    est un isomorphisme.
    \end{itemize}
\end{defn}
\begin{rem}
    Une catégorie abélienne se comporte grosso modo comme Ab. Dans
    Rotman y'avais un méta théorème qui disait qu'on peut toujours
    se plonger dans une sous-catégorie pleine de modules.
\end{rem}

\begin{ex}
    Un contre exemple pour le deuxième axiome dans une catégorie
    additive avec les noyaux. On peut regarder $Ab(Top^H)$ les
    groupes abéliens topologiques. Dans ce cas, si on a $f\colon A\to B$
    alors $coker(f)=B/\overline{im}(f)$, on doit prendre la clôture.
    Si on regarde $\Q\subset \R$, on a $\ker(\subset)=0$ et 
    $coker(\subset)=\R/\bar{\Q}=0$. Si, $Ab(Top^H)$ était abélienne,
    on aurait que $\subset$ est un isomorphisme.
\end{ex}
\begin{prop}
    Soit $(f\colon A\to)(g\colon B\to) C$ dans une catégorie abélienne
    tels que $g\circ f=O$. Alors il existe une flèche canonique,
    \[im(f)\to \ker(g)\]
\end{prop}
\begin{proof}
    Faire. (dans le carnet je l'ai fais dcp)
\end{proof}

\begin{defn}[Suite/Complexe]
    Une suite dans $\Cat$ est une suite de morphismes
% https://q.uiver.app/#q=WzAsOCxbMSwwLCJBXnstMX0iXSxbMiwwLCJBXjAiXSxbMywwLCJBXjEiXSxbNCwwLCJcXGxkb3RzIl0sWzAsMCwiXFxsZG90cyJdLFs1LDAsIkFebiJdLFs2LDAsIkFee24rMX0iXSxbNywwLCJcXGxkb3RzIl0sWzAsMSwiZF57LTF9Il0sWzEsMiwiZF4wIl0sWzIsMywiZF4xIl0sWzQsMF0sWzUsNiwiZF5uIl0sWzYsN10sWzMsNV1d
\[\begin{tikzcd}
	\ldots & {A^{-1}} & {A^0} & {A^1} & \ldots & {A^n} & {A^{n+1}} & \ldots
	\arrow[from=1-1, to=1-2]
	\arrow["{d^{-1}}", from=1-2, to=1-3]
	\arrow["{d^0}", from=1-3, to=1-4]
	\arrow["{d^1}", from=1-4, to=1-5]
	\arrow[from=1-5, to=1-6]
	\arrow["{d^n}", from=1-6, to=1-7]
	\arrow[from=1-7, to=1-8]
\end{tikzcd}\]
    C'est un complexe si $d^{n+1}\circ d^n=0$ pour tout $n$.

    Un complexe est acyclique (exact) si $im(d^n)\to \ker(d^{n+1})$
    est un isomorphisme pour tout $n$.
\end{defn}
\begin{exo}
    Soit $\Cat$ une catégorie abélienne et $f\colon A\to B$
    dans $\Cat$. TFAE : 
    \begin{itemize}
	\item $f$ est un mono.
	\item $\ker(f)=(O_{\Cat}\to A)$.
	\item $O_{\Cat}\to A\to B$ est acyclique.
    \end{itemize}
\end{exo}
\begin{exo}
    Soit $\Cat$ une catégorie abélienne et $f\colon A\to B$
    dans $\Cat$. TFAE : Pareil mais pour épi.
\end{exo}
\begin{exo}
    Soit $\Cat$ une catégorie abélienne et $f\colon A\to B$
    dans $\Cat$. Prouver que $f$ est un monomorphisme ssi
    $f$ est la flèche $coim(f)\to B$ naturellement. Pareil pour 
    épi équivaut à $A\to im(f)$. Puis isom équivaut à mono plus épi.
\end{exo}

\begin{note}
    S'entrainer à vite écrire des preuves.
\end{note}
 
\begin{lem}
    Soit
% https://q.uiver.app/#q=WzAsMyxbMCwwLCJBIl0sWzEsMCwiQiJdLFsyLDAsIkMiXSxbMCwxLCJmIl0sWzEsMiwiZyJdXQ==
\[\begin{tikzcd}
	A & B & C
	\arrow["f", from=1-1, to=1-2]
	\arrow["g", from=1-2, to=1-3]
\end{tikzcd}\]
une suite dans $\Cat$ une catégorie abélienne. TFAE
\begin{itemize}
    \item La suite est exacte dans $\Cat$.
    \item La suite opposée est exacte dans $\Cat^{op}$.
    \item $Coker(f)=Coim(g)$.
\end{itemize}
\end{lem}
\begin{rem}
    On a $\ker(f)=\ker(A\to coim(f))$ et $coker(f)=coker(im(f)\to B)$.
\end{rem}
\begin{proof}
    Pour $1)\implies 3)$, sachant $im(f)=\ker(g)$ on prends les 
    cokernels $coker(im(f))\simeq coker(\ker(g))$. Par la remarque
    $coker(f)\simeq coim(g)$. En plus en regardant $(3)$ dans la 
    catégorie opposée on a immédiatemment $(2)$. Reste à montrer
    $3)\implies 1)$. On a $coker(im(f))=coker(f)=coim(g)=coker(\ker(g))$
    canoniquement. Maintenant on prends les noyaux, on obtient 
    $im(im(f))=\ker(coker(im(f)))=\ker(coker(\ker(g)))=im(\ker(g))$. 
    Mais $im$ et $ker$ sont des monos, de sorte que $im(ker)=ker$ et
    $im(im)=im$.
\end{proof}

\begin{lem}
    Soit $\Cat$ une catégorie abélienne, 
    \begin{enumerate}
	\item La suite $0\to A\to B\to C$ est exacte ssi 
	    $f\colon (A\to B)\simeq \ker(g\colon B\to C)$.
	\item La suite $ A\to B\to C\to 0$ est exacte ssi $(B\to C)\simeq
	    coker(A\to B)$.
    \end{enumerate}
\end{lem}
\begin{proof}
    Pour $1.$ on sait que $f$ est un monomorphisme d'où
    $f\simeq im(f)$, à l'inverse si $f\simeq im(f)$ alors $f$ est un mono
    (c'est un kernel). On obtient que $f\simeq \ker(g)$.
\end{proof}
\begin{lem}
    Soit $\Cat$ une catégorie abélienne.
    \begin{enumerate}
	\item Une suite \[(*)\colon 0\to A\to B\to C\] est exacte
	    dans $\Cat$ ssi la suite 
	\[(**)\colon 0\to\Hom(M,A)\to\Hom(M,B)\to\Hom(M,C)\]
	est exacte dans Ab avec les pullbacks.
	\item Une suite \[ A\to B\to C\to0\] est exacte
	    dans $\Cat$ ssi la suite 
	\[0\to\Hom(C,M)\to\Hom(B,M)\to\Hom(A,M)\]
    \end{enumerate}
    Dans le $2.$ on a inversé $C,M\ldots$
\end{lem}
\begin{proof}
    On a directement $1.\Leftrightarrow 2.$ (Les $\Hom$ restent dans 
    Ab même en passant à $\Cat^{op}$). On prouve $1.$, on a 
    $(i\colon A\to B)\simeq \ker(f)$ qui se traduit par 
    \[
    \begin{cases}
	f\circ i=O\\ \forall \alpha\colon M\to B  \textrm{ tq }f\circ\alpha=0, \textrm{ il existe un unique } \tilde\alpha\colon M\to A,~i\circ\tilde\alpha=\alpha
    \end{cases}
\]
    en gros on traduit la propriété universelle dans Ab. On suppose que
    $(*)$ est exacte, alors dans
% https://q.uiver.app/#q=WzAsNSxbMCwwLCJcXEhvbV97XFxDYXR9KE0sQSkiXSxbMSwwLCJcXEhvbV97XFxDYXR9KE0sQikiXSxbMiwwLCJcXEhvbV97XFxDYXR9KE0sQykiXSxbMCwyLCIocFxcY29sb24gTVxcdG8gQSkiXSxbMiwyLCJmXFxjaXJjIGlcXGNpcmMgcCJdLFswLDEsImlfKiJdLFsxLDIsImZfKiJdLFswLDIsIihmXFxjaXJjIGkpXyoiLDIseyJjdXJ2ZSI6NH1dLFszLDQsIiIsMix7InN0eWxlIjp7InRhaWwiOnsibmFtZSI6Im1hcHMgdG8ifX19XV0=
\[\begin{tikzcd}
	{\Hom_{\Cat}(M,A)} & {\Hom_{\Cat}(M,B)} & {\Hom_{\Cat}(M,C)} \\
	\\
	{(p\colon M\to A)} && {f\circ i\circ p}
	\arrow["{i_*}", from=1-1, to=1-2]
	\arrow["{(f\circ i)_*}"', curve={height=24pt}, from=1-1, to=1-3]
	\arrow["{f_*}", from=1-2, to=1-3]
	\arrow[maps to, from=3-1, to=3-3]
\end{tikzcd}\]
    on a $f\circ i=0$, d'où $(f\circ i)_*(p)=O$ pour tout 
    $p\colon M\to A$. Puis $im(i_*)\subset\ker(f_*)$. À l'inverse si
    $\alpha\in \ker(f_*)$, on regarde la propriété universelle et on 
    obtient $i_*(\tilde \alpha)=\alpha$ d'où l'exactitude au milieu.
    L'exactitude à gauche c'est juste que $i$ est un mono. 

    Pour l'autre implication on prends $M=A$ on obtient $i_*(id_A)=i$
    et $f\circ i= f_*(i)$. D'où $f\circ i= O$. En plus toute flèche
    $\alpha\colon M\to B$ t.q $f_*(\alpha)=O$ vérifie $\alpha=i_*(\tilde
    \alpha)$ via l'exactitude au milieu, l'unicité est claire. Par la
    propriété universelle du noyau $(*)$ est exacte.
\end{proof}

\begin{cor}[Lemme des cinqs]
    Dans une catégorie abélienne $\Cat$ si on a un diagramme commutatif
% https://q.uiver.app/#q=WzAsMTAsWzAsMCwiMCJdLFsxLDAsIkEiXSxbMiwwLCJCIl0sWzMsMCwiQyJdLFs0LDAsIjAiXSxbMSwxLCJBJyJdLFsyLDEsIkInIl0sWzMsMSwiQyciXSxbMCwxLCIwIl0sWzQsMSwiXFxidWxsZXQiXSxbMCwxXSxbMSwyLCJpIl0sWzIsMywicCJdLFszLDRdLFsxLDUsImZfQSIsMl0sWzIsNiwiZl9CIiwyXSxbMyw3LCJmX0MiXSxbOCw1XSxbNSw2LCJpJyJdLFs2LDcsInAnIl0sWzcsOSwiMCJdXQ==
\[\begin{tikzcd}
	0 & A & B & C & 0 \\
	0 & {A'} & {B'} & {C'} & 0
	\arrow[from=1-1, to=1-2]
	\arrow["i", from=1-2, to=1-3]
	\arrow["{f_A}"', from=1-2, to=2-2]
	\arrow["p", from=1-3, to=1-4]
	\arrow["{f_B}"', from=1-3, to=2-3]
	\arrow[from=1-4, to=1-5]
	\arrow["{f_C}", from=1-4, to=2-4]
	\arrow[from=2-1, to=2-2]
	\arrow["{i'}", from=2-2, to=2-3]
	\arrow["{p'}", from=2-3, to=2-4]
	\arrow["0", from=2-4, to=2-5]
\end{tikzcd}\]
    tel que $f_A$ et $f_C$ sont des isomorphismes, alors $f_B$ est un
    isomorphisme.
\end{cor}

\begin{proof}
    Pour l'injectivité de $(f_B)_*$ on utilise $1.$ et c'est du 
    diagramme chasing dans
% https://q.uiver.app/#q=WzAsOCxbMSwwLCJcXEhvbV97XFxDYXR9KE0sQSkiXSxbMiwwLCJcXEhvbV97XFxDYXR9KE0sQikiXSxbMywwLCJcXEhvbV97XFxDYXR9KE0sQykiXSxbMCwwLCIwIl0sWzEsMSwiXFxIb21fe1xcQ2F0fShNLEEpIl0sWzIsMSwiXFxIb21fe1xcQ2F0fShNLEInKSJdLFszLDEsIlxcSG9tX3tcXENhdH0oTSxDJykiXSxbMCwxLCIwIl0sWzAsMSwiaV8qIl0sWzEsMiwiZl8qIl0sWzMsMF0sWzAsNF0sWzEsNV0sWzIsNl0sWzUsNl0sWzQsNV0sWzcsNF1d
\[\begin{tikzcd}
	0 & {\Hom_{\Cat}(M,A)} & {\Hom_{\Cat}(M,B)} & {\Hom_{\Cat}(M,C)} \\
	0 & {\Hom_{\Cat}(M,A)} & {\Hom_{\Cat}(M,B')} & {\Hom_{\Cat}(M,C')}
	\arrow[from=1-1, to=1-2]
	\arrow["{i_*}", from=1-2, to=1-3]
	\arrow[from=1-2, to=2-2]
	\arrow["{f_*}", from=1-3, to=1-4]
	\arrow[from=1-3, to=2-3]
	\arrow[from=1-4, to=2-4]
	\arrow[from=2-1, to=2-2]
	\arrow[from=2-2, to=2-3]
	\arrow[from=2-3, to=2-4]
\end{tikzcd}\]
    et ça montre que $f_B$ est un mono. Pour la surjectivité on 
    regarde la preuve dans la catégorie opposée ?(ça inverse les
    $(f_B)_*$? Oui ça a l'air faut oublier les $0$).
\end{proof}
\begin{defn}
    Soit $0\to A\to B\to C\to0$, une suite exacte courte, on dit
    qu'elle split si il existe une section $C\to B$ qui fait commuter.
\end{defn}
\begin{prop}
    Le splitting par $s$ équivaut à $f\colon A\oplus C\simeq B$ fait
    commuter le diagramme du dessus avec les flèches canoniques, i.e.
    $s=f\circ i_C$ et les deux équivalent à il existe un rétract
    $r\colon B\to A$.
\end{prop}
\begin{proof}
    Si on a un splitting, on regarde le carré 
% https://q.uiver.app/#q=WzAsMTAsWzEsMCwiQSJdLFsyLDAsIkIiXSxbMywwLCJDIl0sWzQsMCwiMCJdLFswLDAsIjAiXSxbMSwxLCJBIl0sWzIsMSwiQVxcb3BsdXMgQyJdLFszLDEsIkMiXSxbMCwxLCIwIl0sWzQsMSwiMCJdLFswLDEsImkiLDFdLFsxLDIsInAiLDFdLFsyLDNdLFs0LDBdLFs1LDZdLFs3LDYsImlfQyIsMSx7ImN1cnZlIjotMn1dLFs2LDcsInBfQyIsMV0sWzgsNV0sWzIsNywiIiwxLHsibGV2ZWwiOjIsInN0eWxlIjp7ImhlYWQiOnsibmFtZSI6Im5vbmUifX19XSxbMCw1LCIiLDEseyJsZXZlbCI6Miwic3R5bGUiOnsiaGVhZCI6eyJuYW1lIjoibm9uZSJ9fX1dLFs2LDEsImYiLDFdLFs3LDldLFsyLDEsInMiLDEseyJjdXJ2ZSI6MX1dXQ==
\[\begin{tikzcd}
	0 & A & B & C & 0 \\
	0 & A & {A\oplus C} & C & 0
	\arrow[from=1-1, to=1-2]
	\arrow["i"{description}, from=1-2, to=1-3]
	\arrow[Rightarrow, no head, from=1-2, to=2-2]
	\arrow["p"{description}, from=1-3, to=1-4]
	\arrow["s"{description}, curve={height=6pt}, from=1-4, to=1-3]
	\arrow[from=1-4, to=1-5]
	\arrow[Rightarrow, no head, from=1-4, to=2-4]
	\arrow[from=2-1, to=2-2]
	\arrow[from=2-2, to=2-3]
	\arrow["f"{description}, from=2-3, to=1-3]
	\arrow["{p_C}"{description}, from=2-3, to=2-4]
	\arrow["{i_C}"{description}, curve={height=-12pt}, from=2-4, to=2-3]
	\arrow[from=2-4, to=2-5]
\end{tikzcd}\]
où $f$ est la flèche de la propriété universelle. On veut montrer
que $f$ est un isomorphisme. On montre que le carré commute puis on 
applique le lemme du dessus. On a $f\circ i_A =i$ et $f\circ i_C = s$.
En particulier le carré à gauche commute. Reste à prouver que 
$p\circ f=p_C$. Clair. Le $2.$ implique $1.$ est quasi immédiat.
\end{proof}
\begin{exo}
    Faire $2.$ équivalent à $3.$. En gros on peut le regarder dans 
    $\Cat^{op}$.
\end{exo}

\section{Lemme du Serpent}
Dans $Mod_R$ avec $R$ un anneau quelconque. C'est une catégorie
abélienne, si on a un diagramme commutatif :
% https://q.uiver.app/#q=WzAsOCxbMSwwLCJBIl0sWzIsMCwiQiJdLFszLDAsIkMiXSxbNCwwLCIwIl0sWzMsMSwiQyciXSxbMiwxLCJCJyJdLFsxLDEsIkEnIl0sWzAsMSwiMCJdLFswLDEsIlxcYWxwaGEiXSxbMSwyLCJcXGJldGEiXSxbMiwzXSxbNSw0LCJcXGJldGEnIl0sWzYsNSwiXFxhbHBoYSciXSxbNyw2XSxbMCw2LCJ1Il0sWzEsNSwidiJdLFsyLDQsInciXV0=
\[\begin{tikzcd}
	& A & B & C & 0 \\
	0 & {A'} & {B'} & {C'}
	\arrow["\alpha", from=1-2, to=1-3]
	\arrow["u", from=1-2, to=2-2]
	\arrow["\beta", from=1-3, to=1-4]
	\arrow["v", from=1-3, to=2-3]
	\arrow[from=1-4, to=1-5]
	\arrow["w", from=1-4, to=2-4]
	\arrow[from=2-1, to=2-2]
	\arrow["{\alpha'}", from=2-2, to=2-3]
	\arrow["{\beta'}", from=2-3, to=2-4]
\end{tikzcd}\]

et en plus exact sur les lignes, alors  
% https://q.uiver.app/#q=WzAsMTQsWzEsMSwiQSJdLFsyLDEsIkIiXSxbMywxLCJDIl0sWzQsMSwiMCJdLFszLDIsIkMnIl0sWzIsMiwiQiciXSxbMSwyLCJBJyJdLFswLDIsIjAiXSxbMSwwLCJcXGtlciB1Il0sWzIsMCwiXFxrZXIgdiJdLFszLDAsIlxca2VyIHciXSxbMSwzLCJjb2tlcih1KSJdLFsyLDMsImNva2VyKHYpIl0sWzMsMywiY29rZXIodykiXSxbMCwxLCJcXGFscGhhIl0sWzEsMiwiXFxiZXRhIl0sWzIsM10sWzUsNCwiXFxiZXRhJyJdLFs2LDUsIlxcYWxwaGEnIl0sWzcsNl0sWzAsNiwidSJdLFsxLDUsInYiXSxbMiw0LCJ3Il0sWzgsOV0sWzksMTBdLFsxMCwxMSwiIiwwLHsiY3VydmUiOi0yfV0sWzExLDEyXSxbMTIsMTNdXQ==
\[\begin{tikzcd}
	& {\ker u} & {\ker v} & {\ker w} \\
	& A & B & C & 0 \\
	0 & {A'} & {B'} & {C'} \\
	& {coker(u)} & {coker(v)} & {coker(w)}
	\arrow[from=1-2, to=1-3]
	\arrow[from=1-3, to=1-4]
	\arrow[curve={height=-12pt}, from=1-4, to=4-2]
	\arrow["\alpha", from=2-2, to=2-3]
	\arrow["u", from=2-2, to=3-2]
	\arrow["\beta", from=2-3, to=2-4]
	\arrow["v", from=2-3, to=3-3]
	\arrow[from=2-4, to=2-5]
	\arrow["w", from=2-4, to=3-4]
	\arrow[from=3-1, to=3-2]
	\arrow["{\alpha'}", from=3-2, to=3-3]
	\arrow["{\beta'}", from=3-3, to=3-4]
	\arrow[from=4-2, to=4-3]
	\arrow[from=4-3, to=4-4]
\end{tikzcd}\]
est exacte pour les flèches induites, on regarde le diagramme
% https://q.uiver.app/#q=WzAsMTQsWzEsMSwiQSJdLFsyLDEsIkIiXSxbMywxLCJDIl0sWzQsMSwiMCJdLFszLDIsIkMnIl0sWzIsMiwiQiciXSxbMSwyLCJBJyJdLFswLDIsIjAiXSxbMSwwLCJcXGtlciB1Il0sWzIsMCwiXFxrZXIgdiJdLFszLDAsIlxca2VyIHciXSxbMSwzLCJjb2tlcih1KSJdLFsyLDMsImNva2VyKHYpIl0sWzMsMywiY29rZXIodykiXSxbMCwxLCJcXGFscGhhIl0sWzEsMiwiXFxiZXRhIl0sWzIsM10sWzUsNCwiXFxiZXRhJyJdLFs2LDUsIlxcYWxwaGEnIl0sWzcsNl0sWzAsNiwidSJdLFsxLDUsInYiXSxbMiw0LCJ3Il0sWzgsOV0sWzksMTBdLFsxMSwxMl0sWzEyLDEzXSxbOCwwXSxbOSwxXSxbMTAsMl0sWzYsMTFdLFs1LDEyXSxbNCwxM11d
\[\begin{tikzcd}
	& {\ker u} & {\ker v} & {\ker w} \\
	& A & B & C & 0 \\
	0 & {A'} & {B'} & {C'} \\
	& {coker(u)} & {coker(v)} & {coker(w)}
	\arrow[from=1-2, to=1-3]
	\arrow[from=1-2, to=2-2]
	\arrow[from=1-3, to=1-4]
	\arrow[from=1-3, to=2-3]
	\arrow[from=1-4, to=2-4]
	\arrow["\alpha", from=2-2, to=2-3]
	\arrow["u", from=2-2, to=3-2]
	\arrow["\beta", from=2-3, to=2-4]
	\arrow["v", from=2-3, to=3-3]
	\arrow[from=2-4, to=2-5]
	\arrow["w", from=2-4, to=3-4]
	\arrow[from=3-1, to=3-2]
	\arrow["{\alpha'}", from=3-2, to=3-3]
	\arrow[from=3-2, to=4-2]
	\arrow["{\beta'}", from=3-3, to=3-4]
	\arrow[from=3-3, to=4-3]
	\arrow[from=3-4, to=4-4]
	\arrow[from=4-2, to=4-3]
	\arrow[from=4-3, to=4-4]
\end{tikzcd}\]
qui est commutatif, et on peut construire 
$\delta\colon \ker w\to coker(u)$ via \[\ker w \to C\to B\to B'\to A'\to
coker(u).\]
Déjà 
\begin{enumerate}
    \item $\alpha\colon \ker u\to \ker v$ est bien défini car le 
	carré 
% https://q.uiver.app/#q=WzAsNCxbMCwwLCJBIl0sWzEsMCwiQiJdLFswLDEsIkEnIl0sWzEsMSwiQiciXSxbMCwxLCJcXGFscGhhIl0sWzIsMywiXFxhbHBoYSciXSxbMCwyLCJ1IiwyXSxbMSwzLCJ2Il1d
\[\begin{tikzcd}
	A & B \\
	{A'} & {B'}
	\arrow["\alpha", from=1-1, to=1-2]
	\arrow["u"', from=1-1, to=2-1]
	\arrow["v", from=1-2, to=2-2]
	\arrow["{\alpha'}", from=2-1, to=2-2]
\end{tikzcd}\]
    commute.

    \item Pareil pour $\beta\colon \ker v\to \ker w$.
    \item On déf $coker(u)\to coker(v)$ via 
	$\bar x\mapsto \overline{\alpha'(x)}$ : Si $x\in im(u)$ faut 
	montrer que $\alpha(x)\in im(v)$. C'est clair car le carré
\[\begin{tikzcd}
	A & B \\
	{A'} & {B'}
	\arrow["\alpha", from=1-1, to=1-2]
	\arrow["u"', from=1-1, to=2-1]
	\arrow["v", from=1-2, to=2-2]
	\arrow["{\alpha'}", from=2-1, to=2-2]
\end{tikzcd}\]
    commute.
    \item Pareil pour $\beta\colon coker(v)\to coker(w)$.
\end{enumerate}
Maintenant le $\delta$ :
\begin{enumerate}
    \item On prend $z\in \ker(w)\subset C$.
    \item Comme $B\to C$ est surjective on prend $\beta(b)=z$.
    \item On pousse dans $B'$ en $v(b)$. Comme $z\in \ker(w)$ et 
% https://q.uiver.app/#q=WzAsNCxbMCwwLCJCIl0sWzEsMCwiQyJdLFswLDEsIkInIl0sWzEsMSwiQyciXSxbMCwxLCJcXGJldGEiXSxbMiwzLCJcXGJldGEnIl0sWzAsMiwidiIsMl0sWzEsMywidyJdXQ==
\[\begin{tikzcd}
	B & C \\
	{B'} & {C'}
	\arrow["\beta", from=1-1, to=1-2]
	\arrow["v"', from=1-1, to=2-1]
	\arrow["w", from=1-2, to=2-2]
	\arrow["{\beta'}", from=2-1, to=2-2]
\end{tikzcd}\]
    commute, on a $v(b)\in \ker(\beta')=im(\alpha')$.
    \item On prend $\alpha'(a')=v(b)$. 
    \item On pousse $a'$ dans le $coker(u)$.
\end{enumerate}
Bon à noter, $a'$ est unique par injectivité, le choix est au moment
du $b$. Soit $b,b'$ t.q $\beta(b)=\beta(b')$. On a 
\[\beta(b)=\beta(b'))\]
en particulier, $b'-b\in \ker(\beta)$, on obtient $\alpha(a_1-a_2)=
b-b'$ d'où si $\alpha'(a'-a'')=v(b)-v(b')$ alors par injectivité de
$\alpha'$ et la commutativité de 
\[\begin{tikzcd}
	A & B \\
	{A'} & {B'}
	\arrow["\alpha", from=1-1, to=1-2]
	\arrow["u"', from=1-1, to=2-1]
	\arrow["v", from=1-2, to=2-2]
	\arrow["{\alpha'}", from=2-1, to=2-2]
\end{tikzcd}\]
$u(a_1-a_2)=a'-a''\in im(u)$. Et donc $\bar{a'}=\bar{a''}$. On peut
définir $\delta(z)=\bar{a'}$.

L'exactitude maintenant
\begin{enumerate}
    \item En $\ker(v)$ on peut directement utiliser l'exactitude
	en $B$ et la commutativité des carrés à gauche.
    \item Pareil pour $coker(v)$.
    \item Pour $\ker(\delta)$, on peut remarquer que si $\bar{a'}=0$
	alors $a'$ est dans l'image de $u$. De sorte que dans le 
	diagramme on a $b\in im(\alpha)=\ker(\beta)$ et on peut remonter
	dans $\ker(v)$. On a montré que $\ker(\delta)\subset im(\beta)$.
    \item Pour $y\in im(\beta)$, on peut l'amener dans $B$ puis dans 
	$B'$ ou il vaut $0$ par hypothèse. D'où dans $im(\alpha')$
	d'où dans $\ker(\delta)$.
    \item En $coker(u)$ on prend $z\in ker(w)$. Alors faut vérifier
	que les relèvements de $\delta(z)$ sont dans $im(\alpha')$.
	Pour ça, c'est parce que on devient $0$ en $C\to C'$ d'où
	un antécédent dans $B$, $b$, vaut $0$ via $\beta'\circ v$. Puis
	le résultat vu que tout commute.
    \item À l'inverse pour $\bar x\in \ker(\alpha')$, bon flemme.
\end{enumerate}

\begin{rem}
    On peut obtenir 
% https://q.uiver.app/#q=WzAsOCxbNCwxLCIwIl0sWzAsMCwiMCJdLFsxLDAsIlxca2VyIHUiXSxbMiwwLCJcXGtlciB2Il0sWzMsMCwiXFxrZXIgdyJdLFsxLDEsImNva2VyKHUpIl0sWzIsMSwiY29rZXIodikiXSxbMywxLCJjb2tlcih3KSJdLFsyLDNdLFszLDRdLFs1LDZdLFs2LDddLFsxLDJdLFs3LDBdLFs0LDVdXQ==
\[\begin{tikzcd}
	0 & {\ker u} & {\ker v} & {\ker w} \\
	& {coker(u)} & {coker(v)} & {coker(w)} & 0
	\arrow[from=1-1, to=1-2]
	\arrow[from=1-2, to=1-3]
	\arrow[from=1-3, to=1-4]
	\arrow[from=1-4, to=2-2]
	\arrow[from=2-2, to=2-3]
	\arrow[from=2-3, to=2-4]
	\arrow[from=2-4, to=2-5]
\end{tikzcd}\]
    En rajoutant que $A\to B$ est un mono et $B'\to C'$ est un epi.
\end{rem}

\begin{thm}
    Soit $\mathcal A$ une (petite) catégorie abélienne. Alors il existe
    un foncteur exact pleinement fidèle $i\colon\mathcal A\to Mod_R$ 
    pour $R$ un anneau.
\end{thm}
\begin{cor}
    Le lemme du serpent est vrai dans n'importe quelle catégorie.
\end{cor}
\begin{proof}
    On récupère à gauche via le fait que c'est pleinement fidèle.
    On envoie à droite via l'exactitude et la fonctorialité. 
\end{proof}

\begin{exo}
    Écouter \textit{"The Snake"} par Al Wilson.
\end{exo}

\section{Foncteurs entre catégories additives/abéliennes}
\begin{defn}
    Un foncteur $F\colon \Cat\to \mathcal D$ entre catégories additives
    est additif si les morphismes de $\Hom$ sont des morphismes
    de groupes abéliens.
\end{defn}

\begin{rem}
    On avait une autre manière les catégories additives via :
    \begin{enumerate}
	\item Avoir un objet zéro.
	\item Avoir les produits et cofinis qui sont alors isomorphes.
	\item Les $\Hom$ sont alors des monoides et on veut que ce
	    soit des groupes abéliens.
    \end{enumerate}
    On peut redéfinir les foncteurs additifs comme des foncteurs
    préservant les produits finis. Car alors ils préservent la codiagonale.
\end{rem}


À rattraper.

\begin{lem}
    Un foncteur exact à gauche $C\to D$ entre catégories abéliennes
    est additif.
\end{lem}
\begin{proof}
    Le foncteur préserve les splittings. 
\end{proof}
\begin{exo}
    Soit $f\colon X\to Y$, si $f$ a une section alors c'est un
    epi (i.e. c'est un rétract).
\end{exo}
\begin{rem}
    Si $\Cat$ est abélienne et $M\in \Cat$ :
    \[\Hom_{\Cat}(M,\_)\colon A\mapsto \Hom_{\Cat}(M,A)\]
    est exact à gauche. Pareil pour
    \[\Hom_{\Cat}(\_, M)\colon A\mapsto \Hom_{\Cat}(A, M)\]
\end{rem}


\chapter{Homologie}
\section{Injectifs}
\begin{defn}
    Soit $\Cat$ une catégorie abélienne,
    \begin{enumerate}
	\item $I\in\Cat$ est injectif si 
	    \[\Hom_{\Cat}(\_,I)\colon\Cat^{op}\to Ab\]
	    est exact.
	\item $P\in\Cat$ est projectif si 
	    \[\Hom_{\Cat}(P,\_)\colon\Cat^{op}\to Ab\]
	    est exact.
    \end{enumerate}
\end{defn}
\begin{rem}
    Essentiellement, on demande à ce que pour tout monomorphisme
    $A\to B$, $\Hom(B,I)\to\Hom(A,I)$ est surjectif. C'est le
    diagramme
    % https://q.uiver.app/#q=WzAsMyxbMCwxLCJBIl0sWzEsMSwiQiJdLFswLDAsIkkiXSxbMCwxLCIiLDAseyJzdHlsZSI6eyJ0YWlsIjp7Im5hbWUiOiJob29rIiwic2lkZSI6InRvcCJ9fX1dLFswLDJdLFsxLDIsIiIsMCx7InN0eWxlIjp7ImJvZHkiOnsibmFtZSI6ImRhc2hlZCJ9fX1dXQ==
\[\begin{tikzcd}
	I \\
	A & B
	\arrow[from=2-1, to=1-1]
	\arrow[hook, from=2-1, to=2-2]
	\arrow[dashed, from=2-2, to=1-1]
\end{tikzcd}\]
    À l'inverse pour tout epimorphisme $B\to C$ :
% https://q.uiver.app/#q=WzAsMyxbMCwxLCJCIl0sWzEsMSwiQyJdLFsxLDAsIlAiXSxbMCwxLCIiLDAseyJzdHlsZSI6eyJ0YWlsIjp7Im5hbWUiOiJob29rIiwic2lkZSI6InRvcCJ9fX1dLFsyLDFdLFsyLDAsIiIsMCx7InN0eWxlIjp7ImJvZHkiOnsibmFtZSI6ImRhc2hlZCJ9fX1dXQ==
\[\begin{tikzcd}
	& P \\
	B & C
	\arrow[dashed, from=1-2, to=2-1]
	\arrow[from=1-2, to=2-2]
	\arrow[two heads, from=2-1, to=2-2]
\end{tikzcd}\]
\end{rem}

\begin{ex}
    Les sommes directes d'injectifs (resp. projectifs) sont injectifs
    (resp. projectifs)
\end{ex}

\begin{lem}
    Soit $R$ un anneau commutatif, $M\in Mod_R$ est injectif 
    ssi pour tout idéal $I\subset R$, $\Hom(R, M)\to \Hom(I, M)$ est
    surjectif.
\end{lem}
\begin{proof}
    On prouve $\leftarrow$. Soit $\iota\colon A\to B$ un mono. Et soit 
    $\alpha\colon A\to M $. On considère 
    \[\mathcal S = \{(A',\alpha')| 
\textrm{ le diagramme commute } \}\]

% https://q.uiver.app/#q=WzAsNCxbMCwwLCJBIl0sWzEsMCwiQSciXSxbMiwwLCJCIl0sWzEsMSwiTSJdLFswLDEsIiIsMix7InN0eWxlIjp7InRhaWwiOnsibmFtZSI6Imhvb2siLCJzaWRlIjoidG9wIn19fV0sWzEsMiwiIiwyLHsic3R5bGUiOnsidGFpbCI6eyJuYW1lIjoiaG9vayIsInNpZGUiOiJ0b3AifX19XSxbMCwyLCJcXGlvdGEiLDAseyJjdXJ2ZSI6LTJ9XSxbMCwzLCJcXGFscGhhIiwyXSxbMSwzLCJcXGFscGhhJyJdXQ==
\[\begin{tikzcd}
	A & {A'} & B \\
	& M
	\arrow[hook, from=1-1, to=1-2]
	\arrow["\iota", curve={height=-12pt}, from=1-1, to=1-3]
	\arrow["\alpha"', from=1-1, to=2-2]
	\arrow[hook, from=1-2, to=1-3]
	\arrow["{\alpha'}", from=1-2, to=2-2]
\end{tikzcd}\]
L'ensemble $\mathcal S$ a un ordre partiel donné par l'inclusion.
Si on a un sous-ensemble totalement ordonné, alors l'union est une
borne sup. Et on applique Zorn pour obtenir $(C,\gamma)\in\mathcal S$
maximal. On suppose que $A\subset C\nsubseteq B$ et soit $x\in B-C$.
On regarde \[I=(C:(x))\]
et $\gamma\circ m_x \colon r\mapsto r.x\mapsto \gamma(r.x)$ de
$I\to C\to M$. On a 
% https://q.uiver.app/#q=WzAsMyxbMCwwLCJJIl0sWzAsMSwiTSJdLFsxLDAsIlIiXSxbMCwxLCJcXGdhbW1hXFxjaXJjIG1feCIsMl0sWzAsMiwiIiwyLHsic3R5bGUiOnsidGFpbCI6eyJuYW1lIjoiaG9vayIsInNpZGUiOiJ0b3AifX19XSxbMiwxLCJcXGV4aXN0cyBcXHBzaSJdXQ==
\[
\begin{tikzcd}
	I & R \\
	M
	\arrow[hook, from=1-1, to=1-2]
	\arrow["{\gamma\circ m_x}"', from=1-1, to=2-1]
	\arrow["{\exists \psi}", from=1-2, to=2-1]
\end{tikzcd}
\]
où $\psi$ existe par hypothèse. On déf $\tilde \gamma \colon C+R.x\to M$
par $c+r.x\mapsto \gamma(c)+\psi(r)$. On a $\tilde\gamma|_C
=\gamma$ comme $C\nsubseteq C+R.X$ on a une contradiction. D'où
$C=B$ et $M$ est injectif.
\end{proof}

\begin{note}
    Vérifier que $\tilde\gamma$ est bien définie.
\end{note}

\section{coHomologie}
\begin{lem}
    Soit $\Cat$ une catégorie abélienne et
    \[0\to A^{\bullet}\to B^{\bullet}\to C^{\bullet}\to 0\]
    une suite exacte dans $Ch(\Cat)$. Alors pour tout $n\in \Z$ il 
    existe une flèche canonique
    \[\delta^n\colon H^n(C^\bullet)\to H^{n+1}(A^\bullet)\]
    telle que on a la suite exacte longue de cohomologie.

    En plus, la construction est fonctorielle dans la catégorie
    des suites exactes de $Ch(\Cat)$.
\end{lem}
\begin{proof}
    La preuve consiste à appliquer le lemme du serpent à 
% https://q.uiver.app/#q=WzAsMTAsWzAsMCwiMCJdLFsxLDAsIkFebiJdLFsyLDAsIkJebiJdLFszLDAsIkNebiJdLFs0LDAsIjAiXSxbMCwxLCIwIl0sWzEsMSwiQV57bisxfSJdLFsyLDEsIkJee24rMX0iXSxbMywxLCJDXntuKzF9Il0sWzQsMSwiMCJdLFswLDFdLFsxLDJdLFszLDRdLFs1LDZdLFs3LDhdLFs2LDddLFs4LDldLFsyLDNdLFsxLDYsImRfQV5uIl0sWzIsNywiZF9CXm4iXSxbMyw4LCJkX0NebiJdXQ==
\[\begin{tikzcd}
	0 & {A^n} & {B^n} & {C^n} & 0 \\
	0 & {A^{n+1}} & {B^{n+1}} & {C^{n+1}} & 0
	\arrow[from=1-1, to=1-2]
	\arrow[from=1-2, to=1-3]
	\arrow["{d_A^n}", from=1-2, to=2-2]
	\arrow[from=1-3, to=1-4]
	\arrow["{d_B^n}", from=1-3, to=2-3]
	\arrow[from=1-4, to=1-5]
	\arrow["{d_C^n}", from=1-4, to=2-4]
	\arrow[from=2-1, to=2-2]
	\arrow[from=2-2, to=2-3]
	\arrow[from=2-3, to=2-4]
	\arrow[from=2-4, to=2-5]
\end{tikzcd}\]
\begin{note}
    \[Z^n(A):=\ker(d_A^n)\hookrightarrow A^n\]
    \[I^n(A):=im(d_A^{n-1})\hookrightarrow A^n\]
    \[H^n(A):=Z^n(A)/I^n(A)\]
\end{note}
    On obtient 
% https://q.uiver.app/#q=WzAsOCxbMCwwLCIwIl0sWzEsMCwiWl5uKEEpIl0sWzIsMCwiWl5uKEIpIl0sWzMsMCwiWl5uKEMpIl0sWzEsMSwiQV57bisxfS9JXntuKzF9KEEpIl0sWzIsMSwiQl57bisxfS9JXntuKzF9KEIpIl0sWzMsMSwiQ157bisxfS9JXntuKzF9KEMpIl0sWzQsMSwiMCJdLFswLDFdLFsxLDJdLFs1LDZdLFs0LDVdLFs2LDddLFsyLDNdLFszLDRdXQ==
\[\begin{tikzcd}
	0 & {Z^n(A)} & {Z^n(B)} & {Z^n(C)} \\
	& {A^{n+1}/I^{n+1}(A)} & {B^{n+1}/I^{n+1}(B)} & {C^{n+1}/I^{n+1}(C)} & 0
	\arrow[from=1-1, to=1-2]
	\arrow[from=1-2, to=1-3]
	\arrow[from=1-3, to=1-4]
	\arrow[from=1-4, to=2-2]
	\arrow[from=2-2, to=2-3]
	\arrow[from=2-3, to=2-4]
	\arrow[from=2-4, to=2-5]
\end{tikzcd}\]
    comme $d^{n+1}_A\circ d^n_A=0$, $d^n_A$ se factorise par $Z^n(A)$.
    On obtient en plus
% https://q.uiver.app/#q=WzAsNCxbMCwwLCJJXm4oQSkiXSxbMSwwLCJBXm4iXSxbMywwLCJBXntuKzF9Il0sWzIsMSwiWl57bisxfShBKSJdLFswLDEsImlfQV5uIiwwLHsic3R5bGUiOnsidGFpbCI6eyJuYW1lIjoiaG9vayIsInNpZGUiOiJ0b3AifX19XSxbMSwyLCJkX0FebiJdLFsxLDMsIlxcdGlsZGUgZF9BXm4iXSxbMywyLCJpIiwxXV0=
\[\begin{tikzcd}
	{I^n(A)} & {A^n} && {A^{n+1}} \\
	&& {Z^{n+1}(A)}
	\arrow["{i_A^n}", hook, from=1-1, to=1-2]
	\arrow["{d_A^n}", from=1-2, to=1-4]
	\arrow["{\tilde d_A^n}", from=1-2, to=2-3]
	\arrow["i"{description}, from=2-3, to=1-4]
\end{tikzcd}\]
    d'où $i\circ \tilde d_A^n\circ i_A^n= d_A^n\circ i_A^n=0$.
    Comme $i$ est un mono, on a $\tilde d_A^n\circ i_A^n=0$. D'où
    $\tilde d_A^n$ induit
% https://q.uiver.app/#q=WzAsMyxbMCwwLCJBXm4vSV5uKEEpIl0sWzEsMCwiQV57bn0iXSxbMSwxLCJaXntuKzF9KEEpIl0sWzEsMCwicF9BXm4iLDJdLFswLDIsIlxcb3ZlcmxpbmV7ZF9BXm4gfSIsMl0sWzEsMiwiXFx0aWxkZSBkX0FebiJdXQ==
\[\begin{tikzcd}
	{A^n/I^n(A)} & {A^{n}} \\
	& {Z^{n+1}(A)}
	\arrow["{\overline{d_A^n }}"', from=1-1, to=2-2]
	\arrow["{p_A^n}"', from=1-2, to=1-1]
	\arrow["{\tilde d_A^n}", from=1-2, to=2-2]
\end{tikzcd}\]
    \begin{quest}
	\[\ker(\overline{d_A^n})\simeq H^n(A^\bullet)?\]
	\[coker(\overline{d_A^n})\simeq H^{n+1}(A^\bullet)?\]
    \end{quest}
    On obtient un diagramme commutatif
% https://q.uiver.app/#q=WzAsMTAsWzAsMCwiMCJdLFsxLDAsIkFebi9JXm4oQSkiXSxbMiwwLCJCXm4vSV5uKEIpIl0sWzMsMCwiQ15uL0lebihDKSJdLFs0LDAsIjAiXSxbMCwxLCIwIl0sWzEsMSwiWl57bisxfShBKSJdLFsyLDEsIlpee24rMX0oQikiXSxbMywxLCJaXntuKzF9KEMpIl0sWzQsMSwiMCJdLFswLDFdLFsxLDJdLFszLDRdLFs1LDZdLFs3LDhdLFs2LDddLFs4LDldLFsyLDNdLFsxLDYsIlxcb3ZlcmxpbmV7ZF9BXm59Il0sWzIsNywiXFxvdmVybGluZXtkX0Jebn0iXSxbMyw4LCJcXG92ZXJsaW5le2RfQ15ufSJdXQ==
\[\begin{tikzcd}
	0 & {A^n/I^n(A)} & {B^n/I^n(B)} & {C^n/I^n(C)} & 0 \\
	0 & {Z^{n+1}(A)} & {Z^{n+1}(B)} & {Z^{n+1}(C)} & 0
	\arrow[from=1-1, to=1-2]
	\arrow[from=1-2, to=1-3]
	\arrow["{\overline{d_A^n}}", from=1-2, to=2-2]
	\arrow[from=1-3, to=1-4]
	\arrow["{\overline{d_B^n}}", from=1-3, to=2-3]
	\arrow[from=1-4, to=1-5]
	\arrow["{\overline{d_C^n}}", from=1-4, to=2-4]
	\arrow[from=2-1, to=2-2]
	\arrow[from=2-2, to=2-3]
	\arrow[from=2-3, to=2-4]
	\arrow[from=2-4, to=2-5]
\end{tikzcd}\]
    Le lemme du serpent permet de conclure si la question est vraie.
    C'est clair parce que $\overline{d_A^n}\circ p_A^n=\tilde d_A^n$.
    On a 
% https://q.uiver.app/#q=WzAsOCxbMCwwLCIwIl0sWzEsMCwiXFxrZXIocF9BXm4pIl0sWzIsMCwiXFxrZXIoXFx0aWxkZXtkX0Febn0pIl0sWzMsMCwiXFxrZXIoXFxvdmVybGluZXtkX0Febn0pIl0sWzEsMSwiY29rZXIocF9BXm4pIl0sWzIsMSwiY29rZXIoXFx0aWxkZXtkX0Febn0pIl0sWzMsMSwiY29rZXIoXFxvdmVybGluZXtkX0Febn0pIl0sWzQsMSwiMCJdLFswLDFdLFsxLDJdLFs1LDZdLFs0LDVdLFs2LDddLFsyLDNdLFszLDRdXQ==
\[\begin{tikzcd}
	0 & {\ker(p_A^n)} & {\ker(\tilde{d_A^n})} & {\ker(\overline{d_A^n})} \\
	& {coker(p_A^n)} & {coker(\tilde{d_A^n})} & {coker(\overline{d_A^n})} & 0
	\arrow[from=1-1, to=1-2]
	\arrow[from=1-2, to=1-3]
	\arrow[from=1-3, to=1-4]
	\arrow[from=1-4, to=2-2]
	\arrow[from=2-2, to=2-3]
	\arrow[from=2-3, to=2-4]
	\arrow[from=2-4, to=2-5]
\end{tikzcd}\]
    qui est égal a 
    % https://q.uiver.app/#q=WzAsOCxbMCwwLCIwIl0sWzEsMCwiSSBebihBKSJdLFsyLDAsIlxca2VyKFxcdGlsZGV7ZF9BXm59KSJdLFszLDAsIlxca2VyKFxcb3ZlcmxpbmV7ZF9BXm59KSJdLFsxLDEsIjAiXSxbMiwxLCJjb2tlcihcXHRpbGRle2RfQV5ufSkiXSxbMywxLCJjb2tlcihcXG92ZXJsaW5le2RfQV5ufSkiXSxbNCwxLCIwIl0sWzAsMV0sWzEsMl0sWzUsNl0sWzQsNV0sWzYsN10sWzIsM10sWzMsNF1d
\[\begin{tikzcd}
	0 & {I ^n(A)} & {\ker(\tilde{d_A^n})} & {\ker(\overline{d_A^n})} \\
	& 0 & {coker(\tilde{d_A^n})} & {coker(\overline{d_A^n})} & 0
	\arrow[from=1-1, to=1-2]
	\arrow[from=1-2, to=1-3]
	\arrow[from=1-3, to=1-4]
	\arrow[from=1-4, to=2-2]
	\arrow[from=2-2, to=2-3]
	\arrow[from=2-3, to=2-4]
	\arrow[from=2-4, to=2-5]
\end{tikzcd}\]
est exact. On obtient 
\[coker(\overline{d_A^n})\simeq coker(\tilde{d_A^n})\simeq H^{n+1}(A)\]
en plus $i\circ \tilde d_A^n$ et $i$ est un mono, d'où ils ont le même
noyau, qui est $Z^n(A)$. D'où $\ker(\overline{d_A^n})\simeq H^n(A)$.
\end{proof}
\begin{rem}
    En fait y'a un raccourci pour les preuves, si on a 
    $X\to Y\to Z$ exact, on peut appliquer le snake lemme avec 
    $f,g\circ f,g$.
\end{rem}

\begin{defn}
    Soit $\Cat$ une catégorie abélienne et $A^\bullet,B^\bullet\in Ch(\Cat)$. Soit en plus $f^\bullet\colon A^\bullet\to B^\bullet$,
    $f^\bullet$ est contractile si il existe une famille 
    \[(h^n\colon A^n\to B^{n-1})\]
telle que $f^n=h^{n+1}\circ d^n_A+d_B^{n-1}\circ h^n$.
\end{defn}

\begin{note}
    C'est le fameux diagramme
% https://q.uiver.app/#q=WzAsMTIsWzAsMCwiXFxsZG90cyJdLFsxLDAsIkFee24tMX0iXSxbMiwwLCJBXntufSJdLFszLDAsIkFee24rMX0iXSxbNCwwLCJBXntuKzJ9Il0sWzAsMSwiXFxsZG90cyJdLFsxLDEsIkJee24tMX0iXSxbMiwxLCJCXntufSJdLFszLDEsIkJee24rMX0iXSxbNCwxLCJCXntuKzJ9Il0sWzUsMCwiXFxsZG90cyJdLFs1LDEsIlxcbGRvdHMiXSxbMCwxXSxbMSwyLCJkXm5fQSJdLFszLDRdLFs1LDZdLFs3LDhdLFs2LDddLFs4LDldLFsyLDNdLFsxLDYsImZee24tMX0iLDJdLFsyLDcsImZebiIsMV0sWzMsOCwiZl57bisxfSIsMV0sWzQsMTBdLFs5LDExXSxbNCw5LCJmXntuKzJ9Il0sWzIsNiwiaF5uIiwxXSxbMyw3LCJoXntuKzF9IiwxXSxbNCw4LCJoXntuKzJ9IiwxXV0=
\[\begin{tikzcd}
	\ldots & {A^{n-1}} & {A^{n}} & {A^{n+1}} & {A^{n+2}} & \ldots \\
	\ldots & {B^{n-1}} & {B^{n}} & {B^{n+1}} & {B^{n+2}} & \ldots
	\arrow[from=1-1, to=1-2]
	\arrow["{d^n_A}", from=1-2, to=1-3]
	\arrow["{f^{n-1}}"', from=1-2, to=2-2]
	\arrow[from=1-3, to=1-4]
	\arrow["{h^n}"{description}, from=1-3, to=2-2]
	\arrow["{f^n}"{description}, from=1-3, to=2-3]
	\arrow[from=1-4, to=1-5]
	\arrow["{h^{n+1}}"{description}, from=1-4, to=2-3]
	\arrow["{f^{n+1}}"{description}, from=1-4, to=2-4]
	\arrow[from=1-5, to=1-6]
	\arrow["{h^{n+2}}"{description}, from=1-5, to=2-4]
	\arrow["{f^{n+2}}", from=1-5, to=2-5]
	\arrow[from=2-1, to=2-2]
	\arrow[from=2-2, to=2-3]
	\arrow[from=2-3, to=2-4]
	\arrow[from=2-4, to=2-5]
	\arrow[from=2-5, to=2-6]
\end{tikzcd}\]
\end{note}
\begin{prop}
    Soit $f^\bullet\colon A^\bullet\to B^\bullet$ contractile. 
    Alors $H^n(f^\bullet)\colon H^n(A^\bullet)\to H^n(B^\bullet)$ est
    nulle.
\end{prop}
\begin{proof}
    C'est clair terme à terme. Faire la preuve dans une catégorie
    abélienne.
\end{proof}

\begin{defn}
    Deux flèches sont homotopes si leur différence est contractile.
\end{defn}
\section{Résolutions}
Soit $\Cat$ une catégorie abélienne et soit $A\in \Cat$.
\begin{defn}
    Une résolution de $A$ est une suite exacte
    \[0\to A\to I^0\to I^1\to I^2\to \ldots\]
    et la résolution est injective, si les $I$ sont injectifs.
\end{defn}
\begin{defn}
    $\Cat$ a assez d'injectifs si il existe tjr $0\to A\to I^0$.
\end{defn}
\begin{prop}
    Si $\Cat$ a assez d'injectifs alors tout $A\in \Cat$ a une
    résolution injective.
\end{prop}
\begin{proof}
    Soit $A\in \Cat$. On a $i\colon A \hookrightarrow I^0$. Il existe
    $d^0\colon I^0/A\hookrightarrow I^1$ et 
    $\ker(d^0)\simeq\ker(coker(i))=im(i)$. À nouveau, on a 
    $coker(d^0)\in \Cat$ d'où $d^1\colon coker(d^0)\hookrightarrow
    I^2$. Et par déf $\ker(d^1)=im(d^0)$ d'où par induction.
\end{proof}
\begin{rem}
    Étant donné une résolution injective $A\to I^\bullet$. Et le 
    complexe de $A$ concentré en $0$, $A^\bullet$. On a un morphisme
    de complexes, $A^\bullet \to I^\bullet$. En particulier ils ont
    la même cohomologie, 
    $H^n(A^\bullet)=\begin{cases} A\textrm{ si }n=0\\ 0\end{cases}$.
\end{rem}
\begin{defn}
    Soit $A,B\in Cat$ et $f\colon A\to B$. Soit $A\to I^\bullet$ et
    $B\to J^\bullet$ des résolutions. Une extensions de $f$ est
    un morphisme de complexes $f^\bullet\colon J^\bullet$ t.q. 
% https://q.uiver.app/#q=WzAsMTIsWzAsMCwiMCJdLFsxLDAsIkEiXSxbMiwwLCJJXjAiXSxbMywwLCJJXjEiXSxbNCwwLCJJXjIiXSxbMCwxLCIwIl0sWzEsMSwiQiJdLFsyLDEsIkpeMCJdLFszLDEsIkpeMSJdLFs0LDEsIkpeMiJdLFs1LDAsIlxcbGRvdHMiXSxbNSwxLCJcXGxkb3RzIl0sWzAsMV0sWzEsMl0sWzMsNF0sWzUsNl0sWzcsOF0sWzYsN10sWzgsOV0sWzIsM10sWzEsNiwiZiIsMl0sWzIsN10sWzMsOF0sWzQsMTBdLFs5LDExXSxbNCw5XV0=
\[\begin{tikzcd}
	0 & A & {I^0} & {I^1} & {I^2} & \ldots \\
	0 & B & {J^0} & {J^1} & {J^2} & \ldots
	\arrow[from=1-1, to=1-2]
	\arrow[from=1-2, to=1-3]
	\arrow["f"', from=1-2, to=2-2]
	\arrow[from=1-3, to=1-4]
	\arrow[from=1-3, to=2-3]
	\arrow[from=1-4, to=1-5]
	\arrow[from=1-4, to=2-4]
	\arrow[from=1-5, to=1-6]
	\arrow[from=1-5, to=2-5]
	\arrow[from=2-1, to=2-2]
	\arrow[from=2-2, to=2-3]
	\arrow[from=2-3, to=2-4]
	\arrow[from=2-4, to=2-5]
	\arrow[from=2-5, to=2-6]
\end{tikzcd}\]
\end{defn}

\begin{lem}
    Si $I^\bullet$ et $J^\bullet$ sont injectives, alors toute extension
    de $O_{A,B}$ est contractile.
\end{lem}
\begin{proof}
    Étant donné $h^\bullet\colon I^\bullet\to J^\bullet$ une extension
    de $O_{A,B}$. On a 
% https://q.uiver.app/#q=WzAsNCxbMCwwLCJBIl0sWzAsMSwiQiJdLFsxLDAsIkleMCJdLFsxLDEsIkpeMCJdLFswLDEsIk9fe0EsQn0iLDJdLFswLDIsImlfQSIsMix7InN0eWxlIjp7InRhaWwiOnsibmFtZSI6Imhvb2siLCJzaWRlIjoidG9wIn19fV0sWzIsMywiaF4wIiwyXSxbMSwzLCJpX0IiLDAseyJzdHlsZSI6eyJ0YWlsIjp7Im5hbWUiOiJob29rIiwic2lkZSI6InRvcCJ9fX1dXQ==
\[\begin{tikzcd}
	A & {I^0} \\
	B & {J^0}
	\arrow["{i_A}"', hook, from=1-1, to=1-2]
	\arrow["{O_{A,B}}"', from=1-1, to=2-1]
	\arrow["{h^0}"', from=1-2, to=2-2]
	\arrow["{i_B}", hook, from=2-1, to=2-2]
\end{tikzcd}\]
    D'où on obtient $\overline{h^0}\colon I^0/A\to J^0$. On a aussi
    $d_I^0\colon I^0/A\to I^1$ avec noyau $0$. On obtient 
% https://q.uiver.app/#q=WzAsNixbMCwwLCJBIl0sWzAsMSwiQiJdLFsxLDAsIkleMCJdLFsxLDEsIkpeMCJdLFsyLDAsIkleMC9BIl0sWzMsMCwiSV4xIl0sWzAsMSwiT197QSxCfSIsMl0sWzAsMiwiaV9BIiwyLHsic3R5bGUiOnsidGFpbCI6eyJuYW1lIjoiaG9vayIsInNpZGUiOiJ0b3AifX19XSxbMiwzLCJoXjAiLDJdLFsxLDMsImlfQiIsMCx7InN0eWxlIjp7InRhaWwiOnsibmFtZSI6Imhvb2siLCJzaWRlIjoidG9wIn19fV0sWzIsNF0sWzQsNV0sWzQsM10sWzUsMywiXFxleGlzdHMga14xIiwxLHsic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn19fV1d
\[\begin{tikzcd}
	A & {I^0} & {I^0/A} & {I^1} \\
	B & {J^0}
	\arrow["{i_A}"', hook, from=1-1, to=1-2]
	\arrow["{O_{A,B}}"', from=1-1, to=2-1]
	\arrow[from=1-2, to=1-3]
	\arrow["{h^0}"', from=1-2, to=2-2]
	\arrow[from=1-3, to=1-4]
	\arrow[from=1-3, to=2-2]
	\arrow["{\exists k^1}"{description}, dashed, from=1-4, to=2-2]
	\arrow["{i_B}", hook, from=2-1, to=2-2]
\end{tikzcd}\]
    par injectivité de $J^0$, on a $h^0=k^1\circ d_I^0$.
    Par induction maintenant on suppose qu'on a pour $0\leq j\leq n$,
    $k^{j+1}\colon I^{j+1}\to J^j$. Tel que
    \begin{center}
	$(E_j)$ : $h^j=k^{j+1}\colon
    d_I^j\circ d_J^{j-1}\circ k^j$.
    \end{center}
    On considère $h^{n+1}-d_J^n\circ k^{n+1}\colon I^{n+1}\to J^{n+1}$.
    En précomposant avec $d_I^{n}$ on obtient 
    \begin{align*}
	(h^{n+1}-d_J^n\colon k^{n+1})\circ d_I^n&=h^{n+1}\circ d_I^n
	-d_J^n\circ k^{n+1}\circ d_I^n\\
						&=d_J^n(h^n-k^{n+1}\circ
						d_I^n)
						\\
						&=d_J^n\circ(d_J^{n-1}
					    \circ k^n)\\
						&=0
    \end{align*}
    où la dernière étape est par induction. On obtient
    % https://q.uiver.app/#q=WzAsMyxbMCwwLCJJXntuKzF9Il0sWzIsMCwiY29rZXIoZF9JXm4pIl0sWzIsMSwiSl57bisxfSJdLFswLDEsInBfQV5uIl0sWzAsMiwiaF57bisxfS1kX0peblxcY2lyYyBrXntuKzF9IiwxXSxbMSwyXV0=
\[\begin{tikzcd}
	{I^{n+1}} && {coker(d_I^n)} \\
	&& {J^{n+1}}
	\arrow["{p_A^n}", from=1-1, to=1-3]
	\arrow["{h^{n+1}-d_J^n\circ k^{n+1}}"{description}, from=1-1, to=2-3]
	\arrow[from=1-3, to=2-3]
\end{tikzcd}\]
puis $k^{n+2}\colon I^{n+2}\to J^{n+1}$ par injectivité, la formule
de l'homotopie est direct par commutativité.
\end{proof}

\begin{prop}
    Soit $\Cat$ une catégorie abélienne et $A,B\in \Cat$. Soit
    $A\to I^\bullet$ une résolution et $B\to J^\bullet$ une résolution
    injective. Alors tout $f\colon A\to B$ admet une extension
    $f^\bullet\colon I^\bullet\to J^\bullet$ qui est unique à homotopie
    près.
\end{prop}
\begin{proof}
    \textbf{Unicité :} Étant donnés $f^\bullet,g^\bullet\colon 
    I^\bullet\to J^\bullet$ qui étend $f$. On a que $f^\bullet-g^\bullet
    $ étend $f-f=O_{A,B}$. D'où est contractile puis 
    $f^\bullet$ et $g^\bullet$ sont homotopes. 
    \textbf{Faire l'équivalence ?}
    \textbf{Existence :} On a % https://q.uiver.app/#q=WzAsNCxbMCwwLCJBIl0sWzEsMCwiSV4wIl0sWzAsMSwiQiJdLFsxLDEsIkpeMCJdLFswLDEsImlfQSJdLFsyLDMsImlfQiJdLFswLDIsImYiLDFdLFsxLDMsIlxcZXhpc3RzIGZeMCIsMCx7InN0eWxlIjp7ImJvZHkiOnsibmFtZSI6ImRhc2hlZCJ9fX1dLFswLDMsImlfYlxcY2lyYyBmIiwxXV0=
\[\begin{tikzcd}
	A & {I^0} \\
	B & {J^0}
	\arrow["{i_A}", from=1-1, to=1-2]
	\arrow["f"{description}, from=1-1, to=2-1]
	\arrow["{i_b\circ f}"{description}, from=1-1, to=2-2]
	\arrow["{\exists f^0}", dashed, from=1-2, to=2-2]
	\arrow["{i_B}", from=2-1, to=2-2]
\end{tikzcd}\]
    puis % https://q.uiver.app/#q=WzAsNixbMCwwLCJJXjAiXSxbMCwxLCJKXjAiXSxbMSwwLCJJXjAvQSJdLFsyLDAsIkleMSJdLFsyLDEsIkpeMSJdLFsxLDEsIkpeMC9CIl0sWzAsMSwiZl4wIiwyXSxbMCwyXSxbMiwzLCIiLDEseyJzdHlsZSI6eyJ0YWlsIjp7Im5hbWUiOiJob29rIiwic2lkZSI6InRvcCJ9fX1dLFszLDQsIlxcZXhpc3RzIGZeMSIsMCx7InN0eWxlIjp7ImJvZHkiOnsibmFtZSI6ImRhc2hlZCJ9fX1dLFs1LDQsIiIsMix7InN0eWxlIjp7InRhaWwiOnsibmFtZSI6Imhvb2siLCJzaWRlIjoidG9wIn19fV0sWzIsNSwiXFxiYXIgZl4wIiwyXSxbMSw1XSxbMiw0XV0=
\[\begin{tikzcd}
	{I^0} & {I^0/A} & {I^1} \\
	{J^0} & {J^0/B} & {J^1}
	\arrow[from=1-1, to=1-2]
	\arrow["{f^0}"', from=1-1, to=2-1]
	\arrow[hook, from=1-2, to=1-3]
	\arrow["{\bar f^0}"', from=1-2, to=2-2]
	\arrow[from=1-2, to=2-3]
	\arrow["{\exists f^1}", dashed, from=1-3, to=2-3]
	\arrow[from=2-1, to=2-2]
	\arrow[hook, from=2-2, to=2-3]
\end{tikzcd}\]
    et 
% https://q.uiver.app/#q=WzAsOCxbMCwwLCJJXjAiXSxbMCwxLCJKXjAiXSxbMiwwLCJJXjEiXSxbMiwxLCJKXjEiXSxbMywwLCJjb2tlcihkX0leMCkiXSxbMywxLCJjb2tlcihkX0peMCkiXSxbNCwwLCJJXjIiXSxbNCwxLCJKXjIiXSxbMCwxLCJmXjAiLDJdLFsyLDMsImZeMSIsMl0sWzAsMiwiZF9JXjAiXSxbMSwzLCJkXjBfSiIsMl0sWzIsNCwiIiwwLHsic3R5bGUiOnsiaGVhZCI6eyJuYW1lIjoiZXBpIn19fV0sWzMsNSwiIiwyLHsic3R5bGUiOnsiaGVhZCI6eyJuYW1lIjoiZXBpIn19fV0sWzQsNV0sWzQsNiwiIiwwLHsic3R5bGUiOnsidGFpbCI6eyJuYW1lIjoiaG9vayIsInNpZGUiOiJ0b3AifX19XSxbNSw3LCIiLDAseyJzdHlsZSI6eyJ0YWlsIjp7Im5hbWUiOiJob29rIiwic2lkZSI6InRvcCJ9fX1dLFs2LDcsIlxcZXhpc3RzIGZeMiIsMCx7InN0eWxlIjp7ImJvZHkiOnsibmFtZSI6ImRhc2hlZCJ9fX1dLFs0LDddXQ==
\[\begin{tikzcd}
	{I^0} && {I^1} & {coker(d_I^0)} & {I^2} \\
	{J^0} && {J^1} & {coker(d_J^0)} & {J^2}
	\arrow["{d_I^0}", from=1-1, to=1-3]
	\arrow["{f^0}"', from=1-1, to=2-1]
	\arrow[two heads, from=1-3, to=1-4]
	\arrow["{f^1}"', from=1-3, to=2-3]
	\arrow[hook, from=1-4, to=1-5]
	\arrow[from=1-4, to=2-4]
	\arrow[from=1-4, to=2-5]
	\arrow["{\exists f^2}", dashed, from=1-5, to=2-5]
	\arrow["{d^0_J}"', from=2-1, to=2-3]
	\arrow[two heads, from=2-3, to=2-4]
	\arrow[hook, from=2-4, to=2-5]
\end{tikzcd}\]

    Supposons maintenant $f^i$ défini pour tout $i\leq n$, alors 
% https://q.uiver.app/#q=WzAsOCxbMCwwLCJJXntuLTF9Il0sWzAsMSwiSl57bi0xfSJdLFsyLDAsIklebiJdLFsyLDEsIkpebiJdLFszLDAsImNva2VyKGRfSV57bi0xfSkiXSxbMywxLCJjb2tlcihkX0pee24tMX0pIl0sWzQsMCwiSV57bisxfSJdLFs0LDEsIkpee24rMX0iXSxbMCwxLCJmXntuLTF9IiwyXSxbMiwzLCJmXm4iLDJdLFswLDIsImRee24tMX1fSSJdLFsxLDMsImRee24tMX1fSiIsMl0sWzIsNCwiIiwwLHsic3R5bGUiOnsiaGVhZCI6eyJuYW1lIjoiZXBpIn19fV0sWzMsNSwiIiwyLHsic3R5bGUiOnsiaGVhZCI6eyJuYW1lIjoiZXBpIn19fV0sWzQsNV0sWzQsNiwiIiwwLHsic3R5bGUiOnsidGFpbCI6eyJuYW1lIjoiaG9vayIsInNpZGUiOiJ0b3AifX19XSxbNSw3LCIiLDAseyJzdHlsZSI6eyJ0YWlsIjp7Im5hbWUiOiJob29rIiwic2lkZSI6InRvcCJ9fX1dLFs2LDcsIlxcZXhpc3RzIGZee24rMX0iLDAseyJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XSxbNCw3XV0=
\[\begin{tikzcd}
	{I^{n-1}} && {I^n} & {coker(d_I^{n-1})} & {I^{n+1}} \\
	{J^{n-1}} && {J^n} & {coker(d_J^{n-1})} & {J^{n+1}}
	\arrow["{d^{n-1}_I}", from=1-1, to=1-3]
	\arrow["{f^{n-1}}"', from=1-1, to=2-1]
	\arrow[two heads, from=1-3, to=1-4]
	\arrow["{f^n}"', from=1-3, to=2-3]
	\arrow[hook, from=1-4, to=1-5]
	\arrow[from=1-4, to=2-4]
	\arrow[from=1-4, to=2-5]
	\arrow["{\exists f^{n+1}}", dashed, from=1-5, to=2-5]
	\arrow["{d^{n-1}_J}"', from=2-1, to=2-3]
	\arrow[two heads, from=2-3, to=2-4]
	\arrow[hook, from=2-4, to=2-5]
\end{tikzcd}\]

\end{proof}
\section{Foncteurs dérivés}
On considère $\Cat, \Dat$ deux catégories abéliennes t.q. 
$\Cat$ a assez d'injectifs. Soit $F\colon \Cat\to \Dat$ un foncteur
exact à gauche. On veut définir une famille de foncteurs
\[R^n F\colon \Cat\to \Dat,~\forall n\geq 0\]
avec $R^0F\simeq F$ et satisfaisant une propriété universelle. 
\newline
\newline
Soit $A\in\Cat$ et $A\to I^\bullet$ une résolution injective. On
applique $F$ à $I^\bullet$ et on obtient \[F(I^\bullet)\in Ch(\Dat).\]
On pose $R^nF(A)=H^n(F(I^\bullet))\in Dat$. 

\begin{center}
    C'est bien défini en tant que foncteur! (à montrer)
\end{center}

\begin{rem}
    La résolution est tronquée comme d'hab y'a pas le $A$ dedans.
    D'où la prochaine remarque.
\end{rem}
\begin{rem}
    On a $R^0F(A)\simeq F(A)$. En effet $0\to A\to I^0\to I^1$
    est exacte et $F$ est exacte à gauche. D'où 
    $\ker(F(I^0)\to F(I^1))\simeq F(A)$.
\end{rem}
\begin{rem}
    Si $F$ est exact, alors $R^n F= 0$ pour tout $n>0$. 
\end{rem}
\begin{slog}
    Les foncteurs dérivés à droite $(R^n F)_{n\geq 0}$ mesurent
    à quel point $F$ est loin d'être exact à droite.
\end{slog}
\begin{prop}
    Soit $F\colon \Cat\to \Dat$ exact à gauche. Alors
    \begin{enumerate}
	\item Étant donné $A\to I^\bullet$, $A\to J^\bullet$ injectives
	    on a un isomorphisme canonique
	\[H^n(F(I^\bullet))\simeq H^n(F(J^\bullet))~\forall n\geq 0\]
	\item De $f\colon A\to B$ et $A\to I^\bullet$, $B\to J^\bullet$
	    injectives, alors on a un morphisme canonique 
    \[H^n(F(f^\bullet))\colon H^n(F(I^\bullet))\to H^n(F(J^\bullet)),
    ~\forall n\geq 0\]
	\item Si 
% https://q.uiver.app/#q=WzAsMyxbMCwwLCJBIl0sWzEsMCwiQiJdLFsyLDAsIkMiXSxbMCwxLCJmIl0sWzEsMiwiZyJdXQ==
\[\begin{tikzcd}
	A & B & C
	\arrow["f", from=1-1, to=1-2]
	\arrow["g", from=1-2, to=1-3]
\end{tikzcd}\]
    sont des morphismes dans $\Cat$ et $A\to I^\bullet$,$B\to J^\bullet$
    ,$C\to K^\bullet$ injectives, alors 
	% https://q.uiver.app/#q=WzAsMyxbMCwwLCJIXm4oRihJXlxcYnVsbGV0KSkiXSxbMiwwLCJIXm4oRihLXlxcYnVsbGV0KSkiXSxbMSwxLCJIXm4oRihKXlxcYnVsbGV0KSkiXSxbMCwxLCJIXm4oRihnXlxcYnVsbGV0XFxjaXJjIGZeXFxidWxsZXQpKSJdLFswLDJdLFsyLDFdXQ==
\[\begin{tikzcd}
	{H^n(F(I^\bullet))} && {H^n(F(K^\bullet))} \\
	& {H^n(F(J^\bullet))}
	\arrow["{H^n(F(g^\bullet\circ f^\bullet))}", from=1-1, to=1-3]
	\arrow[from=1-1, to=2-2]
	\arrow[from=2-2, to=1-3]
\end{tikzcd}\]	
    commute pour tout $n\geq 0$.
    \end{enumerate}
\end{prop}
\begin{proof}
    \textbf{(2) :} Il existe une extension $f^\bullet\colon I^\bullet
    \to J^\bullet$ unique à homotopie près. Comme $F$ et les $H^n(\_)$
    sont des foncteurs on obtient des morphismes $F(I^\bullet)\to
    F(J^\bullet)$ dans $Ch(\Dat)$ et 
    $H^n(F(I^\bullet))\to H^n(F(J^\bullet))$ dans $\Dat$ pour tout 
    $n\geq 0$. Soit $g^\bullet\colon I^\bullet\to J^\bullet$ une autre
    extension de $f\colon A\to B$. Alors $f^\bullet -g^\bullet$
    est contractile d'où 
    $f^n-g^n=d_J^{n-1}\circ h^n+h^{n+1}\circ d_I^n$. Comme $F$ est 
    additif, $F(f^n-g^n)$ est contractile. D'où $H^n(F(f^\bullet))=
    H^n(F(g^\bullet))$.
    \newline
    \newline
    \textbf{(3) :} Si $f^\bullet,g^\bullet$ étendent $f,g$ alors
    $g^\bullet\circ f^\bullet$ étend $g\circ f$ on obtient
    \[H^n(F(g^\bullet\circ f^\bullet))=H^n(F(g^\bullet))\circ 
    H^n(F(f^\bullet))\]
    qui est ce qu'on voulait.
    \newline
    \newline
    \textbf{(3) :} Il existe $f^\bullet\colon I^\bullet\to J^\bullet$
    qui étend $id_A$ et $g^\bullet\colon J^\bullet\to I^\bullet$ qui
    étend aussi $id_A$. À nouveau, $g^\bullet\circ f^\bullet$ étend
    $id_A$ et pareil pour $id_{I^\bullet}$. En particulier
    \[g^\bullet\circ f^\bullet\textrm{ et }id_{I^\bullet}
    \textrm{ sont homotopes}\]
    puis pareil pour $F(g^\bullet)\circ F(f^\bullet)$ et 
    $F(id_{I^\bullet})=id_{F(I^\bullet)}$. D'où \[H^n(F(g^\bullet))\circ
    H^n(F(f^\bullet))=Id_{H^n(F(I^\bullet))}\]
    Pareil de l'autre côté et on obtient des isomorphismes canoniques
    $H^n(F(f^\bullet)),H^n(F(g^\bullet))$.
\end{proof}
\begin{rem}
    L'isomorphisme est canonique!
\end{rem}
\begin{rem}
    On obtient que $R^n F(A)$ est bien défini pour tout $n\geq 0$ et 
    pour tout $A\in \Cat$ d'où $R^n F$ est un foncteur pour tout 
    $n\geq0$.
\end{rem}

\begin{defn}
    On définit le $n$-ème foncteur dérivé à droite de $F$ par 
    $R^n F\colon A\mapsto H^n(F(I^\bullet))$.
\end{defn}
\begin{prop}
    On a les props suivantes :
    \begin{enumerate}
	\item $R^n F$ est un foncteur additif pour tout $n\geq0$.
	\item Pour tout $I\in \Cat$ injectif, $R^n F(I)=0$ pour tout
	    $n>0$.
	\item Soit $0\to A\to B\to C\to 0$ $(*)$ une suite exacte
	    courte (sec) dans $\Cat$. Alors pour tout $n\geq 0$
	    il existe une flèche canonique $\delta^{n+1}\colon R^n F(C)
	    \to R^{n+1} F(A)$ telle que .
% https://q.uiver.app/#q=WzAsMTMsWzAsMCwiMCJdLFsxLDAsIlJeMEYoQSkiXSxbMiwwLCJSXjBGKEIpIl0sWzMsMCwiUl4wRihDKSJdLFsxLDEsIlJeMUYoQSkiXSxbMiwxLCJSXjFGKEIpIl0sWzMsMSwiUl4xRihCKSJdLFsxLDIsIlJeMkYoQSkiXSxbMiwyLCJSXjJGKEIpIl0sWzMsMiwiUl4yRihDKSJdLFsxLDMsIlJebkYoQSkiXSxbMiwzLCJcXGxkb3RzIl0sWzMsMywiKCoqKSJdLFswLDFdLFsxLDJdLFsyLDNdLFszLDRdLFs0LDVdLFs1LDZdLFs2LDddLFs3LDhdLFs4LDldLFs5LDEwLCJcXGxkb3RzIiwxXSxbMTAsMTFdXQ==
\[\begin{tikzcd}
	0 & {R^0F(A)} & {R^0F(B)} & {R^0F(C)} \\
	& {R^1F(A)} & {R^1F(B)} & {R^1F(B)} \\
	& {R^2F(A)} & {R^2F(B)} & {R^2F(C)} \\
	& {R^nF(A)} & \ldots & {(**)}
	\arrow[from=1-1, to=1-2]
	\arrow[from=1-2, to=1-3]
	\arrow[from=1-3, to=1-4]
	\arrow[from=1-4, to=2-2]
	\arrow[from=2-2, to=2-3]
	\arrow[from=2-3, to=2-4]
	\arrow[from=2-4, to=3-2]
	\arrow[from=3-2, to=3-3]
	\arrow[from=3-3, to=3-4]
	\arrow["\ldots"{description}, from=3-4, to=4-2]
	\arrow[from=4-2, to=4-3]
\end{tikzcd}\]
    est exacte. En plus, l'application $(*)\mapsto(**)$ de 
    $Sec(\Cat)\to Ch(\Dat)$ est un foncteur. Plus simplement, tout 
    les 
% https://q.uiver.app/#q=WzAsNCxbMCwwLCJSXm4gRihDKSJdLFsyLDAsIlJee24rMX0gRihBKSJdLFsyLDEsIlJee24rMX0gRihBJykiXSxbMCwxLCJSXm4gRihDKSciXSxbMCwxLCJcXGRlbHRhXm4iXSxbMywyLCJcXGRlbHRhXm4iXSxbMCwzXSxbMSwyXV0=
\[\begin{tikzcd}
	{R^n F(C)} && {R^{n+1} F(A)} \\
	{R^n F(C)'} && {R^{n+1} F(A')}
	\arrow["{\delta^n}", from=1-1, to=1-3]
	\arrow[from=1-1, to=2-1]
	\arrow[from=1-3, to=2-3]
	\arrow["{\delta^n}", from=2-1, to=2-3]
\end{tikzcd}\]
    commutent.
    \end{enumerate}
\end{prop}
\begin{proof}
    \textbf{(1) :} On prouve que $R^n F$ préserve les sommes directes.
    Soit $A\to I^\bullet$, $B\to J^\bullet$ injectives. Alors
    $A\oplus B\to I^\bullet\oplus J^\bullet$ est injective 
    (\textbf{check}). Maintenant $F$ est exact à gauche donc additif,
    d'où 
\[F(I^\bullet\oplus J^\bullet)\simeq F(I^\bullet)\oplus F(J^\bullet)\]
    Maintenant $H^n(\_)$ est additif aussi (\textbf{check}). D'où
    $R^n F(A\oplus B)=R^n F(A)\oplus R^n F(B)$.
    \newline
    \newline
    \textbf{(2) :} Soit $I\in \Cat$ injectif et 
    $0\to I\to I\to 0\to 0\to \ldots$ une résolution injective. D'où
    le résultat.
    \newline
    \newline
    \textbf{(3) :} On claim que on peut choisir $A\to I^\bullet$,
    $B\to J^\bullet$ ,$C\to K^\bullet$ injectives et des extensions
% https://q.uiver.app/#q=WzAsMTAsWzAsMCwiMCJdLFsxLDAsIkEiXSxbMiwwLCJCIl0sWzMsMCwiQyJdLFs0LDAsIjAiXSxbMSwxLCJJXlxcYnVsbGV0Il0sWzIsMSwiSl5cXGJ1bGxldCJdLFszLDEsIkteXFxidWxsZXQiXSxbMCwxLCIwIl0sWzQsMSwiMCJdLFswLDFdLFsxLDJdLFsyLDNdLFszLDRdLFsxLDVdLFsyLDZdLFszLDddLFs2LDddLFs1LDZdLFs4LDVdLFs3LDldXQ==
\[\begin{tikzcd}
	0 & A & B & C & 0 \\
	0 & {I^\bullet} & {J^\bullet} & {K^\bullet} & 0
	\arrow[from=1-1, to=1-2]
	\arrow[from=1-2, to=1-3]
	\arrow[from=1-2, to=2-2]
	\arrow[from=1-3, to=1-4]
	\arrow[from=1-3, to=2-3]
	\arrow[from=1-4, to=1-5]
	\arrow[from=1-4, to=2-4]
	\arrow[from=2-1, to=2-2]
	\arrow[from=2-2, to=2-3]
	\arrow[from=2-3, to=2-4]
	\arrow[from=2-4, to=2-5]
\end{tikzcd}\]
    telles que $J^n\simeq I^n\oplus K^n$ pour tout $n\geq 0$ ET
    $I^n\to J^n\to K^n$ est donnée par $J^n=I^n\oplus K^n$. Comme $F$
    est additif $F(J^n)=F(I^n)\oplus F(K^n)$ d'où 
    \[0\to F(I^\bullet)\to F(J^\bullet)\to F(K^\bullet)\to 0\]
    est exacte dans $Ch(\Dat)$. On obtient la suite exacte longue
    qui donne le résultat voulu.
\end{proof}
\begin{proof}[Démonstration du claim]
    Bon la flèche de gauche est par l'injectivité et à droite par
    composition puis au milieu par produit.
% https://q.uiver.app/#q=WzAsMTAsWzAsMCwiMCJdLFsxLDAsIkEiXSxbMiwwLCJCIl0sWzMsMCwiQyJdLFs0LDAsIjAiXSxbMSwxLCJJXjAiXSxbMywxLCJLXjAiXSxbMiwxLCJJXjBcXG9wbHVzIEteMCJdLFs0LDEsIjAiXSxbMCwxLCIwIl0sWzAsMV0sWzEsMl0sWzIsM10sWzMsNF0sWzEsNSwiIiwwLHsic3R5bGUiOnsidGFpbCI6eyJuYW1lIjoiaG9vayIsInNpZGUiOiJ0b3AifX19XSxbMyw2LCIiLDAseyJzdHlsZSI6eyJ0YWlsIjp7Im5hbWUiOiJob29rIiwic2lkZSI6InRvcCJ9fX1dLFs1LDddLFs3LDZdLFs2LDhdLFs5LDVdLFsyLDUsIlxcZXhpc3RzIiwxLHsic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn19fV0sWzIsNiwiIiwxLHsiY3VydmUiOi0xfV0sWzIsNywiIiwxLHsic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn19fV1d
\[\begin{tikzcd}
	0 & A & B & C & 0 \\
	0 & {I^0} & {I^0\oplus K^0} & {K^0} & 0
	\arrow[from=1-1, to=1-2]
	\arrow[from=1-2, to=1-3]
	\arrow[hook, from=1-2, to=2-2]
	\arrow[from=1-3, to=1-4]
	\arrow["\exists"{description}, dashed, from=1-3, to=2-2]
	\arrow[dashed, from=1-3, to=2-3]
	\arrow[curve={height=-6pt}, from=1-3, to=2-4]
	\arrow[from=1-4, to=1-5]
	\arrow[hook, from=1-4, to=2-4]
	\arrow[from=2-1, to=2-2]
	\arrow[from=2-2, to=2-3]
	\arrow[from=2-3, to=2-4]
	\arrow[from=2-4, to=2-5]
\end{tikzcd}\]
    On applique le lemme du serpent pour obtenir 
% https://q.uiver.app/#q=WzAsOCxbMSwwLCIwIl0sWzIsMCwia2VyKEJcXHRvIEpeMCkiXSxbMywwLCIwIl0sWzEsMSwiSV4wL0EiXSxbMiwxLCJKXjAvQiJdLFszLDEsIkteMC9DIl0sWzQsMSwiMCJdLFswLDAsIjAiXSxbMCwxXSxbMSwyXSxbMiwzXSxbMyw0XSxbNCw1XSxbNSw2XSxbNywwXV0=
\[\begin{tikzcd}
	0 & 0 & {ker(B\to J^0)} & 0 \\
	& {I^0/A} & {J^0/B} & {K^0/C} & 0
	\arrow[from=1-1, to=1-2]
	\arrow[from=1-2, to=1-3]
	\arrow[from=1-3, to=1-4]
	\arrow[from=1-4, to=2-2]
	\arrow[from=2-2, to=2-3]
	\arrow[from=2-3, to=2-4]
	\arrow[from=2-4, to=2-5]
\end{tikzcd}\]
    d'où la suite exacte de coker et l'injectivité au milieu puis
% https://q.uiver.app/#q=WzAsMTAsWzEsMCwiSV4wL0EiXSxbMiwwLCJKXjAvQiJdLFszLDAsIkteMC9DIl0sWzQsMCwiMCJdLFswLDAsIjAiXSxbMSwxLCJJXjEiXSxbMywxLCJLXjEiXSxbNCwxLCIwIl0sWzAsMSwiMCJdLFsyLDEsIkleMVxcb3BsdXMgS14xIl0sWzAsMV0sWzEsMl0sWzIsM10sWzQsMF0sWzAsNSwiIiwxLHsic3R5bGUiOnsidGFpbCI6eyJuYW1lIjoiaG9vayIsInNpZGUiOiJ0b3AifX19XSxbMiw2LCIiLDEseyJzdHlsZSI6eyJ0YWlsIjp7Im5hbWUiOiJob29rIiwic2lkZSI6InRvcCJ9fX1dLFs2LDddLFs4LDVdLFs1LDldLFs5LDZdLFsxLDUsIlxcZXhpc3RzIiwxLHsic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn19fV0sWzEsNiwiIiwxLHsiY3VydmUiOi0xfV0sWzEsOSwiIiwxLHsic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn19fV1d
\[\begin{tikzcd}
	0 & {I^0/A} & {J^0/B} & {K^0/C} & 0 \\
	0 & {I^1} & {I^1\oplus K^1} & {K^1} & 0
	\arrow[from=1-1, to=1-2]
	\arrow[from=1-2, to=1-3]
	\arrow[hook, from=1-2, to=2-2]
	\arrow[from=1-3, to=1-4]
	\arrow["\exists"{description}, dashed, from=1-3, to=2-2]
	\arrow[dashed, from=1-3, to=2-3]
	\arrow[curve={height=-6pt}, from=1-3, to=2-4]
	\arrow[from=1-4, to=1-5]
	\arrow[hook, from=1-4, to=2-4]
	\arrow[from=2-1, to=2-2]
	\arrow[from=2-2, to=2-3]
	\arrow[from=2-3, to=2-4]
	\arrow[from=2-4, to=2-5]
\end{tikzcd}\]
    on définit alors $d_J^0\colon J^0\to J^0/B\to I^1\oplus K^1=J^1$.
    À nouveau le lemme du serpent donne 
% https://q.uiver.app/#q=WzAsMTAsWzEsMCwiY29rZXIoZF9JXjApIl0sWzIsMCwiY29rZXIoZF9KXjApIl0sWzMsMCwiY29rZXIoZF9LXjApIl0sWzQsMCwiMCJdLFswLDAsIjAiXSxbMSwxLCJJXjIiXSxbMywxLCJLXjIiXSxbNCwxLCIwIl0sWzAsMSwiMCJdLFsyLDEsIkleMlxcb3BsdXMgS14yIl0sWzAsMV0sWzEsMl0sWzIsM10sWzQsMF0sWzAsNSwiIiwxLHsic3R5bGUiOnsidGFpbCI6eyJuYW1lIjoiaG9vayIsInNpZGUiOiJ0b3AifX19XSxbMiw2LCIiLDEseyJzdHlsZSI6eyJ0YWlsIjp7Im5hbWUiOiJob29rIiwic2lkZSI6InRvcCJ9fX1dLFs2LDddLFs4LDVdLFs1LDldLFs5LDZdLFsxLDUsIlxcZXhpc3RzIiwxLHsic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn19fV0sWzEsNiwiIiwxLHsiY3VydmUiOi0xfV0sWzEsOSwiIiwxLHsic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn19fV1d
\[\begin{tikzcd}
	0 & {coker(d_I^0)} & {coker(d_J^0)} & {coker(d_K^0)} & 0 \\
	0 & {I^2} & {I^2\oplus K^2} & {K^2} & 0
	\arrow[from=1-1, to=1-2]
	\arrow[from=1-2, to=1-3]
	\arrow[hook, from=1-2, to=2-2]
	\arrow[from=1-3, to=1-4]
	\arrow["\exists"{description}, dashed, from=1-3, to=2-2]
	\arrow[dashed, from=1-3, to=2-3]
	\arrow[curve={height=-6pt}, from=1-3, to=2-4]
	\arrow[from=1-4, to=1-5]
	\arrow[hook, from=1-4, to=2-4]
	\arrow[from=2-1, to=2-2]
	\arrow[from=2-2, to=2-3]
	\arrow[from=2-3, to=2-4]
	\arrow[from=2-4, to=2-5]
\end{tikzcd}\]
    Cette étape donne exactement l'induction. (\textbf{CHECK QUE ÇA
    MARCHE})
\end{proof}

\begin{center}
    \textbf{Propriété universelle}
\end{center}
\begin{defn}
    Soit $\Cat, \Dat$ comme avant. Un foncteur cohomologique
    $T\colon \Cat\to \Dat$ est la donnée de
    \begin{enumerate}
	\item Une famille de foncteurs 
	    $(T^n\colon \Cat\to \Dat)_{n\geq 0}$.
	\item Pour tout $n\geq 0$ des cobords
	    \[\delta^n\colon T^n(C)\to T^{n+1}(A)\]
	    tels que on obtient une suite exacte longue et à nouveau
	    que SEC$\mapsto$ SEL via les cobords est un foncteur.
	    Revoir les petits diagrammes à faire commuter.
    \end{enumerate}
    Un morphisme de foncteurs cohomologiques est un foncteur qui
    induit une transformation naturelle des foncteurs SEC$\mapsto$
    SEL.
\end{defn}
\begin{rem}
    On demande pas forcément que $\Cat$ ait assez d'injectifs ici.
\end{rem}
\begin{defn}
    Un foncteur cohomologique $T=(T^n, \delta^n)_n$ est universel
    si pour tout foncteur cohomologique
    $T'=(T'^n,\delta'^n)_n$ et pour toute transformation naturelle
    $g\colon T^0\to T'^0$ il existe un unique morphisme de foncteurs
    cohomologiques $f\colon T\to T'$ tel que $f^0=g$.
\end{defn}
\begin{thm}
    Soit $F\colon \Cat\to \Dat$ un foncteur exact à gauche entre
    catégories abéliennes où $\Cat$ a assez d'injectifs. Le foncteur
    cohomologique donné par les foncteurs dérivés est un foncteur
    cohomologique universel. de $\Cat\to \Dat$.
\end{thm}
\begin{cor}
    $(R^n F, \delta^n)_n$ muni de $F\simeq R^0 F$ est initial dans la 
    catégorie des foncteurs cohomologiques $T$ de $\Cat$ dans $\Dat$
    avec un morphisme $F\to T^0$.
\end{cor}

\begin{defn}
    Soit $F\colon \Cat\to \Dat$ exact à gauche et $\Cat$ a assez d'inj.
    Un objet $C\in\Cat$ est $F$-acyclique si pour tout $n>0$ :
    \[R^nF(C)=O_\Dat\]
\end{defn}
\begin{rem}
    Les injectifs sont $F$-acycliques pour tout $F$.
\end{rem}
\begin{defn}
    Une résolution $F$-acyclique de $A\in\Cat$ est une résolution
    faite d'acycliques.
\end{defn}

\begin{prop}
    Soit $A\in\Cat$, $A\to C^\bullet$ une résolution $F$-acyclique,
    et $A\to I^\bullet$ une résolution injective. On a une extension
    de $id_A$ en $C^\bullet\to I^\bullet$ unique à homotopie près. 
    Alors la flèche \[F(C^\bullet)\to F^(I^\bullet)\] est un 
    quasi-isomorphisme 
    \[H^n(F(C^\bullet))\simeq H^n(F(I^\bullet))=R^nF(A)\]
\end{prop}
\begin{proof}
    Utilise les suites spectrales.
\end{proof}

\chapter{Cohomologie des faisceaux}
\section{Définition}
Soit $X$ un e.t. et $PSh_{Ab}(X)$ (resp. $Sh_{Ab}(X)$) la catégorie des
préfaisceaux en groupes abéliens. 


\begin{rem}
On va définir \[R^n\Gamma(X,\F)=:H^n(X,\F)\]
y faut prouver que $Sh(X)$ est une catégorie abélienne, a assez 
d'injectifs et que $\Gamma(X,\_)$ est exact à gauche.
\end{rem}

\begin{prop}
    Les limite et les colimites existent dans $PSh(X)$ et sont calculées
    arguments par arguments. 
\end{prop}
\begin{proof}[Idées de démonstration]
    Soit $F\colon I\to PSh(X)$ un foncteur d'une petite catégorie $I$.
    Alors pour tout $U\in Ouv(X)$ :
    \[(\varinjlim_I(F_i))(U)=\varinjlim_I(F_i(U))\]
    et 
    \[(\varprojlim_I(F_i))(U)=\varprojlim_I(F_i(U))\]
    maintenant on peut définir les préfaisceaux 
    $U\mapsto \varprojlim_I(F_i(U))=:F_\infty$
    par la condition d'avant. Faut montrer que c'est un faisceau.
    Pour tout $i\in I$ on a une flèche $F_\infty(U)\to F_i(U)$
    fonctorielle en $U$ d'où $F_\infty\to F_i$ dans $PSh(X)$.
    Maintenant si $L\in PSh(X)$ est un cône on obtient $L(U)\to F_i(U)$
    donc $L(U)\to F_\infty(U)$ fonctoriel en $U$. D'où $L\to F_\infty$
    ce qui prouve que $F_\infty$ est bien universel. 

\end{proof}
\begin{cor}
    $PSh_{Ab}(X)$ est abélienne, et même $PSh(X)$ sur une catégorie
    abélienne.
\end{cor}
\begin{proof}
    On a le faisceau nul. Le produit/coproduit est une limite/colimite
    et on a l'isomorphisme entre coproduit et produit. On en déduit que 
    \[\Hom_{PSh(X)}(F,G)\]
    est un monoide commutatif. On définit 
    facilement les inverses terme à terme donc c'est un groupe. 

    On a montré que $PSh(X)$ est additive. 

    Maintenant les noyaux et conoyaux existent. Reste à voir le 
    théorème d'isomorphisme. On l'a clairement terme à terme.
\end{proof}

\begin{cor}
    $Sh(X)$ est abélienne.
\end{cor}
\begin{proof}
    Via l'adjonction $(\_)^\sharp\colon PSh(X)\leftrightarrow Sh(X):i$.
    On a $(\_)^\sharp\circ i=id_{Sh(X)}$ et, $i$ préserve les limites,
    $(\_)^\sharp$ préserve les colimites (en tant qu'adjoint à droite).
    Étant donné un diagramme dans $Sh(X)$ : $(F_k)$ on le pousse dans 
    $PSh(X)$ en $i(F_k)$ pour obtenir une limite $\varinjlim_ki( F_k)$.
    Maintenant 
    \[0\to F_k(U\cup V)\to F_k(U)\oplus F_k(V)\to F_k(U\cap V)\]
    passe à la limite (le noyau est une limite) d'où 
    \[\textrm{$\varprojlim_k i(F_k)$ est un faisceau}\]
    et $(\varprojlim_k(i(F_k)))^\sharp=\varprojlim_k F_k$. D'où
    $(\_)^\sharp$ préserve les colimites et les limites de diagrammes
    de la forme 
    \[I\to Sh(X)\to PSh(X)\]
    en particulier l'objet $0$. 

    Maintenant si $\F,\G\in Sh(X)$ alors 
    \[(i(\F)\oplus i(\G))^\sharp=\F\oplus \G\]
    est une somme directe dans $Sh(X)$. Pareil on récupère le noyau
    et conoyau par faisceautisation. Les $\Hom$ sont clairement des
    groupes abéliens car sont les mêmes que dans $PSh$. Enfin le
    théorème d'isomorphisme se déduit sur les fibres par exemple.
\end{proof}

\begin{prop}
    $Sh(X)$ a assez d'injectifs.
\end{prop}
\begin{proof}
    DM.
\end{proof}

\begin{prop}
    Pour tout $U\in Ouv(X)$, $\Gamma_U$ est exact à gauche.
\end{prop}
\begin{proof}
    DM. 
\end{proof}
\begin{defn}
    Soit $\F\in Sh(X)$. Les groupes de cohomologie de $X$ a coefficients
    dans $\F$ sont les $H^n(X,\F)=R^n\Gamma(X,\F)$.
\end{defn}
\begin{rem}
    Comment les calculer ? On prends une résolution injective
    \[\F\to I^\bullet\]
    dans $Sh(X)$. On applique $\Gamma(X,\_)$ :
    \[0\to I^0(X)\to I^1(X)\to \ldots\]
    puis $H^n(X,\F):=H^n(I^\bullet(X))$. Si $\F\to C^\bullet$
    est acyclique on calcule de la même manière la cohomologie.
\end{rem}
\begin{exo}
    Si on prends le faisceau constant $\underline A$ sur un point,
    alors $H^n(\{x\},\underline A)$ c'est une cohomologie des groupes?
\end{exo}

\begin{ex}
    Si $M$ est une variété différentielle de dimension $d$ et 
    $\R$ le faisceau constant sur $M$. Le lemme de poincaré montre que
    \[0\to \R\to \Omega^0\to \Omega^1\to \ldots\to \Omega^d\to 0\]
    est une résolution de $\R$. On peut montrer que $\Omega^n$
    est $\Gamma_M$ acyclique d'où
\[H^n(M,\R)=H^n(\Omega^\bullet(M))=H^n_{dR}(X)\]
    est la cohomologie de DeRham.
\end{ex}
\section{Faisceaux flasques}
Soit $X$ un espace topologique. On montre que les faisceaux flasques
sont acycliques pour $\Gamma(X,\_)$.

\begin{prop}
    Si on a une suite exacte courte $0\to \F'\to \F\to \F''\to$ 
    dans $Sh(X)$ et si on supp $\F'$ flasque, alors
    \[0\to \F'(U)\to \F(U)\to \F''(U)\to 0\]
    est exacte dans $Ab$.
\end{prop}
\begin{proof}
    DM.
\end{proof}
\begin{cor}
    Soit $0\to \F'\to \F\to \F''\to 0$ une s.e.s dans $Sh(X)$, alors
    si $\F$ et $\F''$ sont flasques, $\F''$ aussi.
\end{cor}
\begin{proof}
    Soit $V\subseteq U\subseteq X$ des ouverts. On a une suite exacte
    et un diagramme 
% https://q.uiver.app/#q=WzAsMTAsWzAsMCwiMCJdLFsxLDAsIlxcRihVKSJdLFsyLDAsIlxcRihVKSJdLFszLDAsIlxcRicnKFUpIl0sWzQsMCwiMCJdLFswLDEsIjAiXSxbNCwxLCIwIl0sWzEsMSwiXFxGJyhWKSJdLFsyLDEsIlxcRihWKSJdLFszLDEsIlxcRicnKFYpIl0sWzAsMV0sWzEsMl0sWzMsNF0sWzIsM10sWzUsN10sWzcsOF0sWzgsOSwiIiwwLHsic3R5bGUiOnsiaGVhZCI6eyJuYW1lIjoiZXBpIn19fV0sWzMsOV0sWzksNl0sWzIsOCwiIiwxLHsic3R5bGUiOnsiaGVhZCI6eyJuYW1lIjoiZXBpIn19fV0sWzEsN10sWzIsOSwiIiwxLHsic3R5bGUiOnsiaGVhZCI6eyJuYW1lIjoiZXBpIn19fV1d
\[\begin{tikzcd}
	0 & {\F(U)} & {\F(U)} & {\F''(U)} & 0 \\
	0 & {\F'(V)} & {\F(V)} & {\F''(V)} & 0
	\arrow[from=1-1, to=1-2]
	\arrow[from=1-2, to=1-3]
	\arrow[from=1-2, to=2-2]
	\arrow[from=1-3, to=1-4]
	\arrow[two heads, from=1-3, to=2-3]
	\arrow[two heads, from=1-3, to=2-4]
	\arrow[from=1-4, to=1-5]
	\arrow[from=1-4, to=2-4]
	\arrow[from=2-1, to=2-2]
	\arrow[from=2-2, to=2-3]
	\arrow[two heads, from=2-3, to=2-4]
	\arrow[from=2-4, to=2-5]
\end{tikzcd}\]
    dans $Ab$. D'où $\F(U)\to \F''(V)$ est surjective d'où 
    $\F''(U)\to \F''(V)$ aussi.
\end{proof}
\begin{prop}
    Soit $\F\in Sh(X)$. Il existe un faisceau flasque $C^0(\F)$
    et un mono $\F\to C^0(\F)$. La construction est fonctorielle.
\end{prop}
\begin{proof}
    On a $C^0(\F)(U):=\prod_{x\in U} \F_x$. Et 
    \[\F(U)\to \prod_{x\in U} \F_x\]
    est injective. Maintenant $C^0(\F)(U)\to C^0(\F)(V)$ est surjective.
\end{proof}

\begin{prop}
    Tout faisceau injectif sur $X$ est flasque.
\end{prop}
\begin{proof}
    Soit $I$ un faisceau injectif sur $X$. On a 
% https://q.uiver.app/#q=WzAsNSxbMCwwLCIwIl0sWzEsMCwiSSJdLFsyLDAsIkNeMChJKSJdLFswLDEsIjAiXSxbMSwxLCJJIl0sWzAsMV0sWzEsMiwiXFxhbHBoYSJdLFszLDRdLFsxLDQsImlkIiwxXSxbMiw0LCJcXGV4aXN0IHIiLDEseyJzdHlsZSI6eyJib2R5Ijp7Im5hbWUiOiJkYXNoZWQifX19XV0=
\[\begin{tikzcd}
	0 & I & {C^0(I)} \\
	0 & I
	\arrow[from=1-1, to=1-2]
	\arrow["\alpha", from=1-2, to=1-3]
	\arrow["id"{description}, from=1-2, to=2-2]
	\arrow["{\exists r}"{description}, dashed, from=1-3, to=2-2]
	\arrow[from=2-1, to=2-2]
\end{tikzcd}\]
    Puis pour tout $U$ on a un diagramme induit 
% https://q.uiver.app/#q=WzAsNSxbMCwwLCIwIl0sWzEsMCwiSShVKSJdLFsyLDAsIkNeMChJKShVKSJdLFswLDEsIjAiXSxbMSwxLCJJKFUpIl0sWzAsMV0sWzEsMiwiXFxhbHBoYSJdLFszLDRdLFsxLDQsImlkIiwxXSxbMiw0LCJyKFUpIiwxLHsic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn19fV1d
\[\begin{tikzcd}
	0 & {I(U)} & {C^0(I)(U)} \\
	0 & {I(U)}
	\arrow[from=1-1, to=1-2]
	\arrow["\alpha", from=1-2, to=1-3]
	\arrow["id"{description}, from=1-2, to=2-2]
	\arrow["{r(U)}"{description}, dashed, from=1-3, to=2-2]
	\arrow[from=2-1, to=2-2]
\end{tikzcd}\]
    d'où $r(U)$ est surjectif pour tout $U\subseteq X$. Pour tout 
    $V\subseteq U\subseteq X$, on a le diagramme commutatif
% https://q.uiver.app/#q=WzAsNCxbMCwwLCJDXjAoSSkoVSkiXSxbMiwwLCJJKFUpIl0sWzAsMSwiQ14wKEkpKFYpIl0sWzIsMSwiSShWKSJdLFswLDEsInIoVSkiLDAseyJzdHlsZSI6eyJoZWFkIjp7Im5hbWUiOiJlcGkifX19XSxbMCwyLCIiLDIseyJzdHlsZSI6eyJoZWFkIjp7Im5hbWUiOiJlcGkifX19XSxbMSwzXSxbMCwzLCIiLDAseyJzdHlsZSI6eyJoZWFkIjp7Im5hbWUiOiJlcGkifX19XSxbMiwzLCIiLDIseyJzdHlsZSI6eyJoZWFkIjp7Im5hbWUiOiJlcGkifX19XV0=
\[\begin{tikzcd}
	{C^0(I)(U)} && {I(U)} \\
	{C^0(I)(V)} && {I(V)}
	\arrow["{r(U)}", two heads, from=1-1, to=1-3]
	\arrow[two heads, from=1-1, to=2-1]
	\arrow[two heads, from=1-1, to=2-3]
	\arrow[from=1-3, to=2-3]
	\arrow[two heads, from=2-1, to=2-3]
\end{tikzcd}\]
    on en déduit que $I$ est flasque.
\end{proof}
\begin{prop}
    Soit $\F$ flasque sur $X$. Alors $\F$ est $\Gamma(U,\_)$-acyclique
    pour tout $U\in Ouv(X)$.
\end{prop}
\begin{proof}
    On prends $\F\to I^\bullet$ injective. On considère la
    suite exacte courte 
    \[0\to\F\to I\to I/\F\to 0\]
    On a vu que $\F$ et $I$ sont flasques. D'où $I/\F$ aussi.
    Soit $U\in Ouv(X)$. Alors la famille 
    \[(R^n\Gamma(U,\_))_{n\geq 0}\]
    est un foncteur cohomologique, d'où on a une suite exacte longue
    % https://q.uiver.app/#q=WzAsOSxbMCwwLCIwIl0sWzEsMCwiSF4wKFUsXFxGKSJdLFsyLDAsIkheMChVLEkpIl0sWzMsMCwiSF4wKFUsSS9cXEYpIl0sWzEsMSwiSF4xKFUsXFxGKSJdLFsyLDEsIkheMShVLEkpIl0sWzMsMSwiSF4xKFUsSS9cXEYpIl0sWzEsMiwiSF4yKFUsXFxGKSJdLFsyLDIsIlxcbGRvdHMiXSxbMCwxXSxbMSwyXSxbMiwzXSxbMyw0XSxbNCw1XSxbNSw2XSxbNiw3XSxbNyw4XV0=
\[\begin{tikzcd}
	0 & {H^0(U,\F)} & {H^0(U,I)} & {H^0(U,I/\F)} \\
	& {H^1(U,\F)} & {H^1(U,I)} & {H^1(U,I/\F)} \\
	& {H^2(U,\F)} & \ldots
	\arrow[from=1-1, to=1-2]
	\arrow[from=1-2, to=1-3]
	\arrow[from=1-3, to=1-4]
	\arrow[from=1-4, to=2-2]
	\arrow[from=2-2, to=2-3]
	\arrow[from=2-3, to=2-4]
	\arrow[from=2-4, to=3-2]
	\arrow[from=3-2, to=3-3]
\end{tikzcd}\]
    on a vu que la ligne du haut est exacte. D'où
    comme $H^i(U,I)=0$ et la première flèche est injective, on 
    obtient que $H^1(U,\F)=0$. Par induction on suppose que 
    $H^i(U,\F)=0$ pour $1\leq i\leq n$ pour tout $\F$ flasque. On 
    obtient une suite exacte courte 
    \[H^n(U, I/\F)\to H^{n+1}(U,\F)\to H^{n+1}(U,I)\]
    mais par hypothèse $H^n(U,I/\F)=0$ car $I/\F$ est flasque (on peut
    swap $\F$ et $I/\F$ dans la preuve). On conclut facilement.
\end{proof}

\[\textrm{Résolution de Godemont : }\]
Soit $\F\in Sh(X)$. On a un mono $\alpha\colon \F\to C^0(\F)$
où $C^0(\F)$ est flasque. On définit
\[Z^1(\F):=C^0(\F)/\F\]
et
\[C^1(\F):=C^0(Z^1(\F))\]
on a une flèche $Z^1(\F)\to C^1(\F)$. On définit le reste par
induction. On a un morphisme $d^n\colon C^n(\F)\to C^{n+1}(\F)$
t.q. 
\[0\to \F\to C^\bullet(\F)\]
est exacte dans $Ch(Sh(X))$. 
\begin{defn}
    C'est la résolution de Godemont.
\end{defn}
\begin{rem}
    La construction $C^\bullet(\_)$ est fonctorielle de 
    $Sh(X)$ dans $Ch(Sh(X))$.
\end{rem}
\begin{rem}
    Étant $\Gamma_U$ acyclique, la résolution calcule la bonne 
    cohomologie.
\end{rem}

\chapter{Hypercohomologie}
À rattraper.


Soit $\F\in Sh(X)$. On considère 
% https://q.uiver.app/#q=WzAsNCxbMCwwLCJTaChYKSJdLFsxLDAsIkReKyhYKSJdLFswLDEsIlxcRiJdLFsxLDEsIkleXFxidWxsZXQiXSxbMCwxXSxbMiwzLCIiLDAseyJzdHlsZSI6eyJ0YWlsIjp7Im5hbWUiOiJtYXBzIHRvIn19fV1d
\[\begin{tikzcd}
	{Sh(X)} & {D^+(X):=D^+(Sh(X))} \\
	\F & {I^\bullet}
	\arrow[from=1-1, to=1-2]
	\arrow[maps to, from=2-1, to=2-2]
\end{tikzcd}\]

d'où $\F$ dans la catégorie dérivée, avec $I^\bullet$ une
résolution injective. On déf
\[Rf_*(\F):=Rf_*(I^\bullet)=f_*I^\bullet\]

qui est complexe borné par en dessous de faisceaux injectifs sur $Y$
tels que 
\[H^i(Rf_*\F)=H^i(f_*I^\bullet)=:R^if_*(\F).\] 
\begin{defn}
    $Rf_*$ est le foncteur dérivé total de $f_*$.
\end{defn}
\begin{note}
    Soit $f\colon X\to \{*\}$, on note $f_*=\Gamma(X,\_)$ et
    \[Rf_*=:R\Gamma(X,\_)\colon D^+(X)\to D^+(Ab).\]
\end{note}
Si $\F\in Sh(X)$, alors $R\Gamma(X,\F)$ est un complexe borné par 
le bas de groupes abélienes divisibles. Similairement, si
\[\F\in Ch^+(Sh(X))\to K^+(X)\to D^+(X)\]
on a $H^i(X,\F^\bullet)=H^i(R\Gamma(X,\F^\bullet))$



\printbibliography


\end{document}

